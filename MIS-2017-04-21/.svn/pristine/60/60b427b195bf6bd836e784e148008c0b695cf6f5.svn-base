package fsk.controller;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.framework.system.common.entity.dataDic.DataDicEntity;
import com.framework.system.common.service.dataDic.DataDicService;

public class CreateQuYuJS {
	//生成区域调用js文本
	public static void main(String[] args) {
		DataDicService dataDicService = DataDicService.getInstance();
		String funString = "";
		
		Map<String, Object> queryMap = new HashMap<String, Object>();
		List<Object> vList = dataDicService.getListByCondition(queryMap);
		
		funString += "var addressList = new Array(";
		
		if (vList != null && vList.size() > 0) {
			for (Object obj : vList) {
				DataDicEntity devInfo = (DataDicEntity) obj;
				if (devInfo != null) {
					funString +="{\"id\":"+devInfo.getId()+",\"name\":\""+devInfo.getName()+"\",\"parent\":"+devInfo.getParentId()+"},";
				}
			}
		}
		funString=funString.substring(0,funString.length()-1);
		// {"id":1,"name":"北京市","parent":0},
		// {"id":35,"name":"北京市","parent":1},
		// {"id":36,"name":"大兴区","parent":35},

		funString += ");";
		System.out.println(funString);

		System.out.println("/**");
		System.out.println("* 根据位置id获取位置名称");
		System.out.println("* @param id 位置id");
		System.out.println("* @return 位置的名称");
		System.out.println("*/");

		System.out.println("function getNameById(id) {");
		System.out.println("var name = \"\";");
		System.out.println("for (var i = 0; i < addressList.length ; i++) {");
		System.out.println("if (addressList[i].id == id) {");
		System.out.println("name = addressList[i].name;");
		System.out.println("break;");
		System.out.println("}");
		System.out.println("}");
		System.out.println("return name;");
		System.out.println("}");

		System.out.println("/**");
		System.out.println("* 根据位置名称获取位置id");
		System.out.println("* @param name 位置名称");
		System.out.println("* @return 位置id");
		System.out.println("*/");

		System.out.println("function getIdByName(name) {");
		System.out.println("var id = 0;");
		System.out.println("for (var i = 0; i < addressList.length ; i++) {");
		System.out.println("if (addressList[i].name == name) {");
		System.out.println("id = addressList[i].id;");
		System.out.println("break;");
		System.out.println("}");
		System.out.println("}");
		System.out.println("return id;");
		System.out.println("}");
		
		System.out.println("/**");
		System.out.println("* 根据父节点的id获取子节点列表");
		System.out.println("* @param parentId 父节点的ID");
		System.out.println("* @return 子节点列表");
		System.out.println("*/");

		System.out.println("function getAddresses(parentId) {");
		System.out.println("var result = new Array();");
		System.out.println("for (var i = 0; i < addressList.length ; i++) {");
		System.out.println("if (addressList[i].parent == parentId) {");
		System.out.println("result.push(addressList[i]);");
		System.out.println("}");
		System.out.println("}");
		System.out.println("return result;");
		System.out.println("}");
		
		System.out.println("/**");
		System.out.println("* 根据子节点的id获取父节点id");
		System.out.println("* @param sonId 子节点的ID");
		System.out.println("* @return 父节点id");
		System.out.println("*/");

		System.out.println("function getFatherIdBySonId(sonId) {");
		System.out.println("var id = 0;");
		System.out.println("for ( var i = 0; i < addressList.length; i++) {");
		System.out.println("if (addressList[i].id == sonId) {");
		System.out.println("id = addressList[i].parent;");
		System.out.println("break;");
		System.out.println("}");
		System.out.println("}");
		System.out.println("return id;");
		System.out.println("}");
	}

}
