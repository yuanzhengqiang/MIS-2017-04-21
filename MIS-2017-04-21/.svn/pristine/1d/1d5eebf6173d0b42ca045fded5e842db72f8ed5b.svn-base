<%@ page contentType="text/html;charset=UTF-8" language="java"%> 
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ page import="fsk.init.SystemInit" %>
<%
	String nickname = (String) session.getAttribute("nickname");
	if (nickname == null) {
		nickname = "";
	}
	String header = SystemInit.header;
	String headerImage = SystemInit.headerImage;
%>
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">
	<link rel="shortcut icon" href="images/logo.png">

	<title>编辑老人</title>

	<!-- Bootstrap core CSS -->
	<link href="js/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="js/jquery.gritter/css/jquery.gritter.css" />

	<link rel="stylesheet" href="fonts/font-awesome-4/css/font-awesome.min.css">

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	  <script src="../../assets/js/html5shiv.js"></script>
	  <script src="../../assets/js/respond.min.js"></script>
	<![endif]-->
	<link rel="stylesheet" type="text/css" href="js/jquery.nanoscroller/nanoscroller.css" />
	<link rel="stylesheet" type="text/css" href="js/jquery.easypiechart/jquery.easy-pie-chart.css" />
	<link rel="stylesheet" type="text/css" href="js/bootstrap.switch/bootstrap-switch.css" />
	<link rel="stylesheet" type="text/css" href="js/bootstrap.datetimepicker/css/bootstrap-datetimepicker.min.css" />
	<link rel="stylesheet" type="text/css" href="js/jquery.select2/select2.css" />
	<link rel="stylesheet" type="text/css" href="js/bootstrap.slider/css/slider.css" />
  <link rel="stylesheet" type="text/css" href="js/jquery.niftymodals/css/component.css" />
  <link href="js/jquery.icheck/skins/square/blue.css" rel="stylesheet">

  <link rel="stylesheet" href="js/jquery.crop/css/jquery.Jcrop.css" type="text/css" />
	<link href="css/style.css" rel="stylesheet" />	
<style>
.accordion .panel,.accordion .panel:first-child{border-top:1px solid #ECECEC;border-bottom:1px solid #ECECEC;}
.checkbox-inline{padding-left:0;padding-right:30px;}
 .checkbox-inline + .checkbox-inline{margin-left:0;}
  .whitebg td{background:#fff;}
.whitebg td textarea{width:100%;height:100%;border:0;resize:vertical}
.whitebg .fa-minus{color:#df4b33;cursor:pointer}
.mytable .fa-plus{color:#4cae4c;cursor:pointer}

#olderPhysiological .myheader {background:#4D90FD;color:#fff;overflow:hidden;margin-bottom:15px}
#olderPhysiological .myheader button{background:transparent;color:#fff;float:right;border-color:#fff}
#olderPhysiological .myheader i{margin-left:5px;margin-right:20px}
#olderPhysiological .myrow div{text-indent:15px}
#olderPhysiological .panel-heading{border:1px solid #ccc}
#olderPhysiological .panel-heading a{padding:10px 16px}
#olderPhysiological .panel-default{margin-top:15px;margin-bottom:40px}
#olderPhysiological #piliang .form-group{margin-bottom:10px}
#olderPhysiological .panel-body{padding-left:0;padding-right:0}
#olderPhysiological .modal-body > div{font-size:13px}
#olderPhysiological .block{box-shadow:none}
</style>
<script type="text/javascript" src="js/addressJS.js"></script>
</head>

<body>
<!-- 上侧栏开始 -->
    <div id="head-nav" class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="fa fa-gear"></span>
          </button>
          <a class="navbar-brand" href="###"  style="width:auto;background: url(images/<%=headerImage %>) no-repeat 0 10px;"><span><%=header %>/编辑老人</span></a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right user-nav">
            <li class="dropdown profile_menu">
              <a href="###" class="dropdown-toggle" data-toggle="dropdown">
                <img src="images/avatar2.jpg"/>
                <span id="accountNickname"><%=nickname %></span>
<!--                 <b class="caret"></b> -->
              </a>
<!--               <ul class="dropdown-menu"> -->
<!--                 <li><a href="###" class="md-trigger" data-modal="md-scale3">密码修改</a></li> -->
<!--                 <li class="divider"></li> -->
<!--                 <li><a href="systemLogin.do?logout">退出登录</a></li> -->
<!--               </ul> -->
            </li>
          </ul>
        </div><!--/.nav-collapse animate-collapse -->
      </div>
    </div>  <!-- 上侧栏结束 -->
    
<div id="cl-wrapper" style="padding-top:40px">	
	<div class="container-fluid" id="pcont">
	<div class="cl-mcont">
    <div class="row">
      <div class="col-sm-12">
        <div class="block-flat profile-info">
          <div class="row">
            <div class="col-sm-2">
              <div class="avatar">
                <img src="photos/av.jpg" id="touxiangId"  class="profile-avatar" />
                <input type="hidden" id="hide_olderTupian" value="" /> 
              </div>
            </div>
            <div class="col-sm-7">
              <div class="personal">
                <h1 class="name" style="font-size:24px;" id="head_name"></h1>
                <p class="description" style="line-height:13px" id="head_address"><p>
                <p class="description" style="line-height:13px;" id="head_sas"><p>
                <p class="description" style="line-height:13px" id="head_telephone"><p>
                 <form style="display:none;" id="picuploadform" class="secondcol" action="position.do?pic" method="post" enctype="multipart/form-data">
                	<input id="pic4upload" name="pic4upload" type="file" onchange="javascript:$('#quedintupian').click()" accept="image/*">
             	</form>
             	<form style="display:none;" id="image_submit" action="position.do?pic2" method="post"  enctype="multipart/form-data">
               		<input type="hidden" name="srcPath" id="srcPath" value="" />
               		<input type="hidden" name="type" id="type" value="olderPhoto_" />
  					<input type="hidden" name="x1" id="x1" value="0" />
  					<input type="hidden" name="y1" id="y1" value="0" />
  					<input type="hidden" name="x2" id="x2" value="0" />
  					<input type="hidden" name="y2" id="y2" value="0" />
		 		</form>  
		 		<button type="button" class="btn btn-primary btn-flat" style="display:none;" id="sure_SC" onclick="uploadPic_cut()">确定</button> 
                <c:if test="${older_xghead_btn_control != 'yes' or older_xghead_btn_show == 'yes'}">
                	<button class="btn btn-primary btn-flat btn-rad"  onclick="javascript:$('#pic4upload').click()">修改头像</button>
                </c:if>
                <input id="quedintupian" style="display:none;" type="button" value="确定" onclick="uploadPic()">
                 <div class="btn-group">
                 	<c:if test="${older_jkpg_btn_control != 'yes' or older_jkpg_btn_show == 'yes'}">
						  <a href="###" target="_blank" id="jkpgrw_a">
                 		  <button class="btn btn-primary btn-flat btn-rad">健康评估</button>
                 		</a>
						 
						  <!-- <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
							健康评估 <span class="caret"></span>
						  </button>
						  <ul class="dropdown-menu" role="menu">
							<li><a href="#" target="_blank" id="kfpd_a">康复评定</a></li>
							<li><a href="#" target="_blank" id="flpd_a">护理评定</a></li>
							<li><a href="#" target="_blank" id="hhjkpd_a">混合健康评估</a></li>
							<li><a href="#" target="_blank" id="jkpgrw_a">健康评估任务</a></li>
						  </ul> -->
					</c:if>
				</div>
				<c:if test="${older_zdhljh_btn_control != 'yes' or older_zdhljh_btn_show == 'yes'}">
                	<a href="###" id="hljhXQ" style="display:none;" target="_blank"><span id="hljhXQTZ">护理计划</span></a>
                	<button class="btn btn-primary btn-flat btn-rad" onclick="checkhljhIfHave()">护理计划</button>
                </c:if>
                <div class="btn-group">
                	<c:if test="${older_review_btn_control != 'yes' or older_review_btn_show == 'yes'}">
						<a href="###" id="huifangA" style="display:none;" target="_blank"><span id="huifangTZ">回访</span></a>
                		<button class="btn btn-primary btn-flat btn-rad" onclick="huifang()">回访</button>
                	</c:if>
                </div>
                <div class="btn-group" id="longActingInsuranceAgentBtn">
                	<c:if test="${older_longActingInsuranceAgent_btn_control != 'yes' or older_longActingInsuranceAgent_btn_show == 'yes'}">
                		<a href="###" id="exportApplicationFormA" style="display:none;" target="_blank"><span id="exportApplicationFormSpan">导出申请表</span></a>
                		<button class="btn btn-primary btn-flat btn-rad" onclick="$('#exportApplicationFormSpan').click();">导出申请表</button>
                	</c:if>
                </div>
              </div>
            </div>
            <div class="col-sm-3">
              <table class="no-border no-strip skills">
                <tbody class="no-border-x no-border-y">
                  <tr>
                    <td style="width:50%;color:#666">客户来源</td>   <!-- 4个相关展示信息 -->
                    <td style="color:#999" id="head_customerSource"></td>
                  </tr>
                  <tr>
                    <td style="color:#666">录入来源</td>
                    <td style="color:#999" id="head_source_input"></td>
                  </tr>
                  <tr>
                    <td style="color:#666">护理级别</td>
                    <td style="color:#999" id="head_hulijibie_input"></td>
                  </tr>
                  <tr>
                    <td style="color:#666">客户状态</td>
                    <td style="color:#999" id="head_kehuzhuangtai"></td>
                  </tr>
                  <tr>
                    <td style="color:#666">最后一次评估时间</td>
                    <td style="color:#999" id="head_hlasttimepg"></td>
                  </tr>
                  <input id="hide_userId" type="hidden" >
                  <input id="hide_oldName" type="hidden" >
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
      
      <div class="row" style="margin-top:0">
      <div class="col-sm-12">
        <div class="tab-container" >
          <ul class="nav nav-tabs">
            <li onclick="jumpPage('jbxx')"><a data-toggle="tab" href="#olderBasicInfo">基本信息</a></li>
            <li onclick="jumpPage('rcsh')"><a data-toggle="tab" href="#dailyLife">日常生活</a></li>
          <!--  <li onclick="jumpPage('lsfw')"><a data-toggle="tab" href="#olderBasicHeal">基本健康</a></li> --> 
            <li onclick="jumpPage('lsfw')"><a data-toggle="tab" href="#olderframe">历史服务</a></li>
            <li onclick="jumpPage('sbxx')"><a data-toggle="tab" href="#olderframe">设备信息</a></li>
            <li class="active"><a data-toggle="tab" href="#olderPhysiological">生理参数</a></li>
            <li onclick="jumpPage('jkpg')"><a data-toggle="tab" href="#olderframe">健康评估</a></li>
            <li onclick="jumpPage('bl')"><a data-toggle="tab" href="#olderframe">病历</a></li>
            <li onclick="jumpPage('tjjl')"><a data-toggle="tab" href="#olderframe">体检记录</a></li>
            <li onclick="jumpPage('fytx')"><a data-toggle="tab" href="#olderframe">服药提醒</a></li>
            <li onclick="jumpPage('zhye')"><a data-toggle="tab" href="#olderframe">账户余额</a></li>
            <li onclick="jumpPage('jkzx')"><a data-toggle="tab" href="#olderframe">健康咨询</a></li>
            <li onclick="jumpPage('mbbq')"><a data-toggle="tab" href="#olderframe">慢病标签</a></li>
            <li onclick="jumpPage('hfjl')"><a data-toggle="tab" href="#olderframe">回访记录</a></li>
          </ul>
          <div class="tab-content" class="tab-pane active" >
      
			<div id="olderPhysiological" ><!-- 生理参数 -->
				<div class="row" style="margin-top:20px;margin-bottom:20px">
				<div class="col-md-12">				
				<div class="block" >
					<c:if test="${older_slcspiliangAdd_btn_control != 'yes' or older_slcspiliangAdd_btn_show == 'yes'}">
						<button type="button" class="btn btn-primary md-trigger" data-modal="piliang" onclick="qingkongAll()">批量添加</button>
					</c:if>	
					<a style="margin-left:20px;margin-right:10px">快速链接</a>
					<a class="btn btn-default" href="#link1">血压</a>
					<a class="btn btn-default" href="#link2" >血糖</a>
					<a class="btn btn-default"  href="#link3">脉搏</a>
					<a class="btn btn-default"  href="#link4">体温</a>
					<a class="btn btn-default"  href="#link5">呼吸</a>
					<a class="btn btn-default"  href="#link6">血氧</a>
					<a class="btn btn-default"  href="#link7">骨密度</a>
				</div>
				</div>	
				</div>

     
				<div class="row" >
				<div class="col-md-12">
				
				<div class="block" id="link1" name="link1">
						<div class="header myheader" >
							<div><h4 style="display:inline-block">血压</h4><i class="fa fa-info-circle"></i><span id="xueya_current_time">最近一次检查时间：暂无</span>
							<c:if test="${older_slcspeizhixueya_btn_control != 'yes' or older_slcspeizhixueya_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="xueyapeizhi" onclick="qingkongAll()">配置参考阈值</button>
							</c:if>	
							<c:if test="${older_slcsAddxueya_btn_control != 'yes' or older_slcsAddxueya_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="xueya" onclick="qingkongAll()">添加</button>
							</c:if>	
							</div>
						</div>
					<div class="row myrow">
						<div class="col-sm-6">收缩压：<span id="xueya_current_ssy_cankaozhi">0mmHg（参考值：90-140）</span><input id="hide_xueya_ssy_value" type="hidden" value="0"><input id="hide_xueya_ssy_xiao" type="hidden" value="90"><input id="hide_xueya_ssy_da" type="hidden" value="140"></div>
						<div class="col-sm-6">舒张压：<span id="xueya_current_szy_cankaozhi">0mmHg（参考值：60-90）</span><input id="hide_xueya_szy_value" type="hidden" value="0"><input id="hide_xueya_szy_xiao" type="hidden" value="60"><input id="hide_xueya_szy_da" type="hidden" value="90"></div>
					</div>
					<div class="panel-group accordion" id="accordion1">
					<div class="panel panel-default">
						<div class="panel-heading" onclick="query_xueya('','1')">
						  <h4 class="panel-title">
							<a  data-toggle="collapse"  href="#collapse1" data-parent="#accordion1">
							  <i class="fa fa-angle-right"></i> 查看详细
							</a>
						  </h4>
						</div>
						<div id="collapse1" class="panel-collapse collapse in" >
						  <div class="panel-body">							
							<div class="row" >
							<div class="col-sm-12" style="margin-top:10px">
								<input type="hidden" id="xueya_leftTJ" value="一周">
								<button type="button" class="btn btn-default " onclick="query_xueya('一周','1')">最近一周</button>
								<button type="button" class="btn btn-default " onclick="query_xueya('一月','1')">最近一月</button>
								<button type="button" class="btn btn-default " id="xueya_leftzidinyi" onclick="$(this).parent().next().toggle();">自定义</button>
								<select class="form-control" id="xueya_rightXS" style="float:right;width:auto;margin-left:10px" onchange="tableORline(1,this)"><option value="1"> 列表 </option><option value="0"> 图表 </option></select>							
								<select class="form-control" id="xueya_rightZT" style="float:right;width:auto" onchange="query_xueya('','1')"><option value=""> 全部 </option><option value="1"> 正常 </option><option value="2,3"> 异常 </option></select>
								  
							</div>
							<div class="col-sm-6 col-lg-4" style="display:none;"> 
								<div class="input-group">
								<input class="datetime form-control" size="10" id="xueya_leftTimeStart" type="text" value=""  data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_xueya('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								<span class="input-group-addon" style="border:0;background:#fff">~</span>
								
								<input class="datetime form-control" size="10" type="text" value="" id="xueya_leftTimeEnd" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_xueya('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								</div>
					
							</div>
							<div class="col-sm-12" id="name1-1">							
								<table class="table table-bordered dataTable hover" id="" style="margin-bottom:0;margin-top:10px" >
									<thead>
										<tr >
											<th><strong>时间</strong></th>
											<th><strong>测量值</strong></th>
											<th><strong>状态</strong></th>
											<th><strong>添加人</strong></th>
										</tr>
									</thead>
									<tbody id="datacontainer_xueya" role="alert" aria-live="polite" aria-relevant="all">
									</tbody>
									</table>								
								<div class="col-sm-4" >
									<div class="dataTables_length" id="">
										<label style="margin-top:18px;">每页 <select id="pageSizeSelector_xueya" size="1" onchange="query_xueya('','1')"><option selected="selected" value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> 条</label>
									</div>
								</div>
								<div class="col-sm-8">
									<div class="pull-right">
												<div class="dataTables_paginate paging_bs_normal">
													<ul id="paginationArea_xueya" class="pagination">
													<li class="prev disabled"><a href="###"><span class="fa fa-angle-left"></span>&nbsp;上一页</a></li>
													<li class="active"><a href="###">1</a></li>
													<li class="next"><a href="###">下一页&nbsp;<span class="fa fa-angle-right"></span></a></li></ul>
												</div>
											</div>
								</div>			
							</div>
							
							<div class="col-sm-12" id="name1-0" style="display:none;margin-top:20px">	
								<input id="hide_xueya_ssy_zhexian" type="hidden" value="">
								<input id="hide_xueya_szy_zhexian" type="hidden" value="">						
									<div id="xueya_zhexian" style="width:90%"></div>							
										
							</div>
							<div class="col-sm-12">							
								<table class="no-border" style="margin-top:20px">
									<tbody class="no-border-x no-border-y">
									<tr > 
                                    <td style="width:70px">统计区间</td>
                                    <td id="xueya_tongji_timeRange">无</td>
                                    <td style="width:70px">统计笔数 </td>
                                    <td id="xueya_tongji_totalCount">0</td> 
                                    <td style="width:70px">异常笔数 </td>
                                    <td id="xueya_tongji_inCount">0</td>                                   
                                                                       
                                  </tr>
                                  <tr style="background:#fff" > 
                                    <td style="width:70px">正常比例</td>
                                    <td id="xueya_tongji_nomalPercent">0%</td>
                                    <td style="width:70px">偏高比例 </td>
                                    <td id="xueya_tongji_highPercent">0%</td> 
                                    <td style="width:70px">偏低比例 </td>
                                    <td id="xueya_tongji_lowPercent">0%</td>                                   
                                                                       
                                  </tr>
                                  <tr > 
                                    <td style="width:70px">最高值</td>
                                    <td id="xueya_tongji_highValue">无</td>
                                    <td style="width:70px">最低值</td>
                                    <td colspan="3" id="xueya_tongji_lowValue">无</td>                                 
                                                                       
                                  </tr>
									</tbody>
								</table>					
									
							</div>
							
							
							</div>							
						  </div>
						</div>
					  </div>
					 </div>
				</div>
				</div>	
				</div>
				<div class="row">
				<div class="col-md-12">
				<div class="block" id="link2" name="link2">
						<div class="header myheader">
							<div><h4 style="display:inline-block">血糖</h4><i class="fa fa-info-circle"></i><span id="xuetang_current_time">最近一次检查时间：暂无</span>
							<c:if test="${older_slcspeizhixuetang_btn_control != 'yes' or older_slcspeizhixuetang_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="xuetangpeizhi" onclick="qingkongAll()">配置参考阈值</button>
							</c:if>	
							<c:if test="${older_slcsAddxuetang_btn_control != 'yes' or older_slcsAddxuetang_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="xuetang" onclick="qingkongAll()">添加</button>
							</c:if>	
							</div>
						</div>
					<div class="row myrow">
						<div class="col-sm-6">空腹血糖：<span id="xuetang_current_kf_cankaozhi">0mmol/L（参考值：4-6.1）</span><input id="hide_xuetang_kf_value" type="hidden" value="0"><input id="hide_xuetang_kf_xiao" type="hidden" value="4"><input id="hide_xuetang_kf_da" type="hidden" value="6.1"></div>
						<div class="col-sm-6">餐后血糖：<span id="xuetang_current_ch_cankaozhi">0mmol/L（参考值：4-7.8）</span><input id="hide_xuetang_ch_value" type="hidden" value="0"><input id="hide_xuetang_ch_xiao" type="hidden" value="4"><input id="hide_xuetang_ch_da" type="hidden" value="7.8"></div>
					</div>
					<div class="panel-group accordion" id="accordion2">
					<div class="panel panel-default">
						<div class="panel-heading" onclick="query_xuetang('','1')">
						  <h4 class="panel-title">
							<a class="collapsed" data-toggle="collapse"  href="#collapse2" data-parent="#accordion2">
							  <i class="fa fa-angle-right"></i> 查看详细
							</a>
						  </h4>
						</div>
						<div id="collapse2" class="panel-collapse collapse" >
						  <div class="panel-body">
							<div class="row" >
							<div class="col-sm-12" style="margin-top:10px">
								<input type="hidden" id="xuetang_leftTJ" value="一周">
								<button type="button" class="btn btn-default " onclick="query_xuetang('一周','1')">最近一周</button>
								<button type="button" class="btn btn-default " onclick="query_xuetang('一月','1')">最近一月</button>
								<button type="button" class="btn btn-default " id="xuetang_leftzidinyi" onclick="$(this).parent().next().toggle();">自定义</button>
								<select class="form-control" id="xuetang_rightXS" style="float:right;width:auto;margin-left:10px" onchange="tableORline(2,this)"><option value="1"> 列表 </option><option value="0"> 图表 </option></select>							
								<select class="form-control" id="xuetang_rightZT" style="float:right;width:auto" onchange="query_xuetang('','1')"><option value=""> 全部 </option><option value="1"> 正常 </option><option value="2,3"> 异常 </option></select>
								  
							</div>
							<div class="col-sm-6 col-lg-4" style="display:none;"> 
								<div class="input-group">
								<input class="datetime form-control" size="10" type="text" value="" id="xuetang_leftTimeStart" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_xuetang('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								<span class="input-group-addon" style="border:0;background:#fff">~</span>
								
								<input class="datetime form-control" size="10" type="text" value="" id="xuetang_leftTimeEnd" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_xuetang('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								</div>
					
							</div>
							<div class="col-sm-12" id="name2-1">							
								<table class="table table-bordered dataTable hover" id="" style="margin-bottom:0;margin-top:10px" >
									<thead>
										<tr >
											<th><strong>时间</strong></th>
											<th><strong>测量值</strong></th>
											<th><strong>状态</strong></th>
											<th><strong>添加人</strong></th>
										</tr>
									</thead>
									<tbody id="datacontainer_xuetang" role="alert" aria-live="polite" aria-relevant="all">																														
									</tbody>
									</table>								
								<div class="col-sm-4" >
									<div class="dataTables_length" id="">
										<label style="margin-top:18px;">每页 <select id="pageSizeSelector_xuetang" size="1" onchange="query_xuetang('','1')"><option selected="selected" value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> 条</label>
									</div>
								</div>
								<div class="col-sm-8">
									<div class="pull-right">
												<div class="dataTables_paginate paging_bs_normal">
													<ul id="paginationArea_xuetang" class="pagination">
													<li class="prev disabled"><a href="###"><span class="fa fa-angle-left"></span>&nbsp;上一页</a></li>
													<li class="active"><a href="###">1</a></li>
													<li class="next"><a href="###">下一页&nbsp;<span class="fa fa-angle-right"></span></a></li></ul>
												</div>
											</div>
								</div>			
							</div>
							
							<div class="col-sm-12" id="name2-0" style="display:none;margin-top:20px">							
									<input id="hide_xuetang_kf_zhexian" type="hidden" value="">
									<input id="hide_xuetang_ch_zhexian" type="hidden" value="">						
									<div id="xuetang_zhexian" style="width:90%"></div>							
										
							</div>
							<div class="col-sm-12">							
								<table class="no-border" style="margin-top:20px">
									<tbody class="no-border-x no-border-y">
									<tr > 
                                    <td style="width:70px">统计区间</td>
                                    <td id="xuetang_tongji_timeRange">无</td>
                                    <td style="width:70px">统计笔数 </td>
                                    <td id="xuetang_tongji_totalCount">0</td> 
                                    <td style="width:70px">异常笔数 </td>
                                    <td id="xuetang_tongji_inCount">0</td>                                    
                                                                       
                                  </tr>
                                  <tr style="background:#fff" > 
                                    <td style="width:70px">正常比例</td>
                                    <td id="xuetang_tongji_nomalPercent">0%</td>
                                    <td style="width:70px">偏高比例 </td>
                                    <td id="xuetang_tongji_highPercent">0%</td> 
                                    <td style="width:70px">偏低比例 </td>
                                    <td id="xuetang_tongji_lowPercent">0%</td>                                   
                                                                       
                                  </tr>
                                  <tr > 
                                    <td style="width:70px">最高值</td>
                                    <td id="xuetang_tongji_highValue">无</br>无</td>
                                    <td style="width:70px">最低值</td>
                                    <td colspan="3" id="xuetang_tongji_lowValue">无</br>无</td>                                  
                                                                       
                                  </tr>
									</tbody>
								</table>				
									
							</div>
							
							
							</div>	
						  </div>
						</div>
					  </div>
					 </div>
				</div>
				</div>	
				</div>
				<div class="row">
				<div class="col-md-12">
				<div class="block" id="link3" name="link3">
						<div class="header myheader">
							<div><h4 style="display:inline-block">脉搏</h4><i class="fa fa-info-circle"></i><span id="maibo_current_time">最近一次检查时间：暂无</span>
							<c:if test="${older_slcspeizhimaibo_btn_control != 'yes' or older_slcspeizhimaibo_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="maibopeizhi" onclick="qingkongAll()">配置参考阈值</button>
							</c:if>	
							<c:if test="${older_slcsAddmaibo_btn_control != 'yes' or older_slcsAddmaibo_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="maibo" onclick="qingkongAll()">添加</button>
							</c:if>	
							</div>
						</div>
					<div class="row myrow">
						<div class="col-sm-12">脉搏：<span id="maibo_current_cankaozhi">0次/分钟（参考值：60-100）</span><input id="hide_maibo_value" type="hidden" value="0"><input id="hide_maibo_xiao" type="hidden" value="60"><input id="hide_maibo_da" type="hidden" value="100"></div>
						
					</div>
					<div class="panel-group accordion" id="accordion3">
					<div class="panel panel-default">
						<div class="panel-heading" onclick="query_maibo('','1')">
						  <h4 class="panel-title">
							<a class="collapsed" data-toggle="collapse"  href="#collapse3" data-parent="#accordion3">
							  <i class="fa fa-angle-right"></i> 查看详细
							</a>
						  </h4>
						</div>
						<div id="collapse3" class="panel-collapse collapse" >
						  <div class="panel-body">
							<div class="row" >
							<div class="col-sm-12" style="margin-top:10px">
								<input type="hidden" id="maibo_leftTJ" value="一周">
								<button type="button" class="btn btn-default " onclick="query_maibo('一周','1')">最近一周</button>
								<button type="button" class="btn btn-default " onclick="query_maibo('一月','1')">最近一月</button>
								<button type="button" class="btn btn-default " id="maibo_leftzidinyi" onclick="$(this).parent().next().toggle();">自定义</button>
								<select class="form-control" id="maibo_rightXS" style="float:right;width:auto;margin-left:10px" onchange="tableORline(3,this)"><option value="1"> 列表 </option><option value="0"> 图表 </option></select>							
								<select class="form-control" id="maibo_rightZT" style="float:right;width:auto" onchange="query_maibo('','1')"><option value=""> 全部 </option><option value="1"> 正常 </option><option value="2,3"> 异常 </option></select>
								  
							</div>
							<div class="col-sm-6 col-lg-4" style="display:none;"> 
								<div class="input-group">
								<input class="datetime form-control" size="10" type="text" value="" id="maibo_leftTimeStart" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_maibo('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								<span class="input-group-addon" style="border:0;background:#fff">~</span>
								
								<input class="datetime form-control" size="10" type="text" value="" id="maibo_leftTimeEnd" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_maibo('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								</div>
					
							</div>
							<div class="col-sm-12" id="name3-1">							
								<table class="table table-bordered dataTable hover" id="" style="margin-bottom:0;margin-top:10px" >
									<thead>
										<tr >
											<th><strong>时间</strong></th>
											<th><strong>测量值</strong></th>
											<th><strong>状态</strong></th>
											<th><strong>添加人</strong></th>
										</tr>
									</thead>
									<tbody id="datacontainer_maibo" role="alert" aria-live="polite" aria-relevant="all">																														
									</tbody>
									</table>								
								<div class="col-sm-4" >
									<div class="dataTables_length" id="">
										<label style="margin-top:18px;">每页 <select id="pageSizeSelector_maibo" size="1" onchange="query_maibo('','1')"><option selected="selected" value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> 条</label>
									</div>
								</div>
								<div class="col-sm-8">
									<div class="pull-right">
												<div class="dataTables_paginate paging_bs_normal">
													<ul id="paginationArea_maibo" class="pagination">
													<li class="prev disabled"><a href="###"><span class="fa fa-angle-left"></span>&nbsp;上一页</a></li>
													<li class="active"><a href="###">1</a></li>
													<li class="next"><a href="###">下一页&nbsp;<span class="fa fa-angle-right"></span></a></li></ul>
												</div>
											</div>
								</div>			
							</div>
							
							<div class="col-sm-12" id="name3-0" style="display:none;margin-top:20px">							
									<input id="hide_maibo_zhexian" type="hidden" value="">						
									<div id="maibo_zhexian" style="width:90%"></div>							
										
							</div>
							<div class="col-sm-12">							
								<table class="no-border" style="margin-top:20px">
									<tbody class="no-border-x no-border-y">
									<tr > 
                                    <td style="width:70px">统计区间</td>
                                    <td id="maibo_tongji_timeRange">无</td>
                                    <td style="width:70px">统计笔数 </td>
                                    <td id="maibo_tongji_totalCount">0</td> 
                                    <td style="width:70px">异常笔数 </td>
                                    <td id="maibo_tongji_inCount">0</td>                                    
                                                                       
                                  </tr>
                                  <tr style="background:#fff" > 
                                    <td style="width:70px">正常比例</td>
                                    <td id="maibo_tongji_nomalPercent">0%</td>
                                    <td style="width:70px">偏高比例 </td>
                                    <td id="maibo_tongji_highPercent">0%</td> 
                                    <td style="width:70px">偏低比例 </td>
                                    <td id="maibo_tongji_lowPercent">0%</td>                                    
                                                                       
                                  </tr>
                                  <tr > 
                                    <td style="width:70px">最高值</td>
                                    <td id="maibo_tongji_highValue">无</td>
                                    <td style="width:70px">最低值</td>
                                    <td colspan="3" id="maibo_tongji_lowValue">无</td>                                  
                                                                       
                                  </tr>
									</tbody>
								</table>					
									
							</div>
							
							
							</div>	
						  </div>
						</div>
					  </div>
					 </div>
				</div>
				</div>	
				</div>
				<div class="row">
				<div class="col-md-12">
				<div class="block" id="link4" name="link4">
						<div class="header myheader">
							<div><h4 style="display:inline-block">体温</h4><i class="fa fa-info-circle"></i><span id="tiwen_current_time">最近一次检查时间：暂无</span>
							<c:if test="${older_slcspeizhitiwen_btn_control != 'yes' or older_slcspeizhitiwen_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="tiwenpeizhi" onclick="qingkongAll()">配置参考阈值</button>
							</c:if>	
							<c:if test="${older_slcsAddtiwen_btn_control != 'yes' or older_slcsAddtiwen_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="tiwen" onclick="qingkongAll()">添加</button>
							</c:if>	
							</div>
						</div>
					<div class="row myrow">
						<div class="col-sm-12">体温：<span id="tiwen_current_cankaozhi">0℃（参考值：36-37.4）</span><input id="hide_tiwen_value" type="hidden" value="0"><input id="hide_tiwen_xiao" type="hidden" value="36"><input id="hide_tiwen_da" type="hidden" value="37.4"></div>
					</div>
					<div class="panel-group accordion" id="accordion4">
					<div class="panel panel-default">
						<div class="panel-heading" onclick="query_tiwen('','1')">
						  <h4 class="panel-title">
							<a class="collapsed" data-toggle="collapse"  href="#collapse4" data-parent="#accordion4">
							  <i class="fa fa-angle-right"></i> 查看详细
							</a>
						  </h4>
						</div>
						<div id="collapse4" class="panel-collapse collapse" >
						  <div class="panel-body">
							<div class="row" >
							<div class="col-sm-12" style="margin-top:10px">
								<input type="hidden" id="tiwen_leftTJ" value="一周">
								<button type="button" class="btn btn-default " onclick="query_tiwen('一周','1')">最近一周</button>
								<button type="button" class="btn btn-default " onclick="query_tiwen('一月','1')">最近一月</button>
								<button type="button" class="btn btn-default " id="tiwen_leftzidinyi" onclick="$(this).parent().next().toggle();">自定义</button>
								<select class="form-control" id="tiwen_rightXS" style="float:right;width:auto;margin-left:10px" onchange="tableORline(4,this)"><option value="1"> 列表 </option><option value="0"> 图表 </option></select>							
								<select class="form-control" id="tiwen_rightZT" style="float:right;width:auto" onchange="query_tiwen('','1')"><option value=""> 全部 </option><option value="1"> 正常 </option><option value="2,3"> 异常 </option></select>
								  
							</div>
							<div class="col-sm-6 col-lg-4" style="display:none;"> 
								<div class="input-group">
								<input class="datetime form-control" size="10" type="text" value="" id="tiwen_leftTimeStart" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_tiwen('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								<span class="input-group-addon" style="border:0;background:#fff">~</span>
								
								<input class="datetime form-control" size="10" type="text" value="" id="tiwen_leftTimeEnd" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_tiwen('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								</div>
					
							</div>
							<div class="col-sm-12" id="name4-1">							
								<table class="table table-bordered dataTable hover" id="" style="margin-bottom:0;margin-top:10px" >
									<thead>
										<tr >
											<th><strong>时间</strong></th>
											<th><strong>测量值</strong></th>
											<th><strong>状态</strong></th>
											<th><strong>添加人</strong></th>
										</tr>
									</thead>
									<tbody id="datacontainer_tiwen" role="alert" aria-live="polite" aria-relevant="all">																														
									</tbody>
									</table>								
								<div class="col-sm-4" >
									<div class="dataTables_length" id="">
										<label style="margin-top:18px;">每页 <select id="pageSizeSelector_tiwen" size="1" onchange="query_tiwen('','1')"><option selected="selected" value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> 条</label>
									</div>
								</div>
								<div class="col-sm-8">
											<div class="pull-right">
												<div class="dataTables_paginate paging_bs_normal">
													<ul id="paginationArea_tiwen" class="pagination">
													<li class="prev disabled"><a href="###"><span class="fa fa-angle-left"></span>&nbsp;上一页</a></li>
													<li class="active"><a href="###">1</a></li>
													<li class="next"><a href="###">下一页&nbsp;<span class="fa fa-angle-right"></span></a></li></ul>
												</div>
											</div>
								</div>			
							</div>
							
							<div class="col-sm-12" id="name4-0" style="display:none;margin-top:20px">							
									<input id="hide_tiwen_zhexian" type="hidden" value="">						
									<div id="tiwen_zhexian" style="width:90%"></div>							
										
							</div>
							<div class="col-sm-12">							
								<table class="no-border" style="margin-top:20px">
									<tbody class="no-border-x no-border-y">
									<tr > 
                                    <td style="width:70px">统计区间</td>
                                    <td id="tiwen_tongji_timeRange">无</td>
                                    <td style="width:70px">统计笔数 </td>
                                    <td id="tiwen_tongji_totalCount">0</td> 
                                    <td style="width:70px">异常笔数 </td>
                                    <td id="tiwen_tongji_inCount">0</td>                                    
                                                                       
                                  </tr>
                                  <tr style="background:#fff" > 
                                    <td style="width:70px">正常比例</td>
                                    <td id="tiwen_tongji_nomalPercent">0%</td>
                                    <td style="width:70px">偏高比例 </td>
                                    <td id="tiwen_tongji_highPercent">0%</td> 
                                    <td style="width:70px">偏低比例 </td>
                                    <td id="tiwen_tongji_lowPercent">0%</td>                                    
                                                                       
                                  </tr>
                                  <tr > 
                                    <td style="width:70px">最高值</td>
                                    <td id="tiwen_tongji_highValue">无</td>
                                    <td style="width:70px">最低值</td>
                                    <td colspan="3" id="tiwen_tongji_lowValue">无</td>                                  
                                                                       
                                  </tr>
									</tbody>
								</table>					
									
							</div>
							
							
							</div>	
						  </div>
						</div>
					  </div>
					 </div>
				</div>
				</div>	
				</div>
				<div class="row">
				<div class="col-md-12">
				<div class="block" id="link5" name="link5">
						<div class="header myheader">
							<div><h4 style="display:inline-block">呼吸</h4><i class="fa fa-info-circle"></i><span id="huxi_current_time">最近一次检查时间：暂无</span>
							<c:if test="${older_slcspeizhihuxi_btn_control != 'yes' or older_slcspeizhihuxi_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="huxipeizhi" onclick="qingkongAll()">配置参考阈值</button>
							</c:if>	
							<c:if test="${older_slcsAddhuxi_btn_control != 'yes' or older_slcsAddhuxi_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="huxi" onclick="qingkongAll()">添加</button>
							</c:if>	
							</div>
						</div>
					<div class="row myrow">
						<div class="col-sm-12">呼吸：<span id="huxi_current_cankaozhi">0次/分钟（参考值：67-80）</span><input id="hide_huxi_value" type="hidden" value="0"><input id="hide_huxi_xiao" type="hidden" value="67"><input id="hide_huxi_da" type="hidden" value="80"></div>
						
					</div>
					<div class="panel-group accordion" id="accordion5">
					<div class="panel panel-default">
						<div class="panel-heading" onclick="query_huxi('','1')">
						  <h4 class="panel-title">
							<a class="collapsed" data-toggle="collapse"  href="#collapse5" data-parent="#accordion5">
							  <i class="fa fa-angle-right"></i> 查看详细
							</a>
						  </h4>
						</div>
						<div id="collapse5" class="panel-collapse collapse" >
						  <div class="panel-body">
							<div class="row" >
							<div class="col-sm-12" style="margin-top:10px">
								<input type="hidden" id="huxi_leftTJ" value="一周">
								<button type="button" class="btn btn-default " onclick="query_huxi('一周','1')">最近一周</button>
								<button type="button" class="btn btn-default " onclick="query_huxi('一月','1')">最近一月</button>
								<button type="button" class="btn btn-default " id="huxi_leftzidinyi" onclick="$(this).parent().next().toggle();">自定义</button>
								<select class="form-control" id="huxi_rightXS" style="float:right;width:auto;margin-left:10px" onchange="tableORline(5,this)"><option value="1"> 列表 </option><option value="0"> 图表 </option></select>							
								<select class="form-control" id="huxi_rightZT" style="float:right;width:auto" onchange="query_huxi('','1')"><option value=""> 全部 </option><option value="1"> 正常 </option><option value="2,3"> 异常 </option></select>
								  
							</div>
							<div class="col-sm-6 col-lg-4" style="display:none;"> 
								<div class="input-group">
								<input class="datetime form-control" size="10" type="text" value="" id="huxi_leftTimeStart" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_huxi('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								<span class="input-group-addon" style="border:0;background:#fff">~</span>
								
								<input class="datetime form-control" size="10" type="text" value="" id="huxi_leftTimeEnd" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_huxi('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								</div>
					
							</div>
							<div class="col-sm-12" id="name5-1">							
								<table class="table table-bordered dataTable hover" id="" style="margin-bottom:0;margin-top:10px" >
									<thead>
										<tr >
											<th><strong>时间</strong></th>
											<th><strong>测量值</strong></th>
											<th><strong>状态</strong></th>
											<th><strong>添加人</strong></th>
										</tr>
									</thead>
									<tbody id="datacontainer_huxi" role="alert" aria-live="polite" aria-relevant="all">																														
									</tbody>
									</table>								
								<div class="col-sm-4" >
									<div class="dataTables_length" id="">
										<label style="margin-top:18px;">每页 <select id="pageSizeSelector_huxi" size="1" onchange="query_tiwen('','1')"><option selected="selected" value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> 条</label>
									</div>
								</div>
								<div class="col-sm-8">
									<div class="pull-right">
												<div class="dataTables_paginate paging_bs_normal">
													<ul id="paginationArea_huxi" class="pagination">
													<li class="prev disabled"><a href="###"><span class="fa fa-angle-left"></span>&nbsp;上一页</a></li>
													<li class="active"><a href="###">1</a></li>
													<li class="next"><a href="###">下一页&nbsp;<span class="fa fa-angle-right"></span></a></li></ul>
												</div>
											</div>
								</div>			
							</div>
							
							<div class="col-sm-12" id="name5-0" style="display:none;margin-top:20px">							
									<input id="hide_huxi_zhexian" type="hidden" value="">						
									<div id="huxi_zhexian" style="width:90%"></div>						
										
							</div>
							<div class="col-sm-12">							
								<table class="no-border" style="margin-top:20px">
									<tbody class="no-border-x no-border-y">
									<tr > 
                                    <td style="width:70px">统计区间</td>
                                    <td id="huxi_tongji_timeRange">无</td>
                                    <td style="width:70px">统计笔数 </td>
                                    <td id="huxi_tongji_totalCount">0</td> 
                                    <td style="width:70px">异常笔数 </td>
                                    <td id="huxi_tongji_inCount">0</td>                                    
                                                                       
                                  </tr>
                                  <tr style="background:#fff" > 
                                    <td style="width:70px">正常比例</td>
                                    <td id="huxi_tongji_nomalPercent">0%</td>
                                    <td style="width:70px">偏高比例 </td>
                                    <td id="huxi_tongji_highPercent">0%</td> 
                                    <td style="width:70px">偏低比例 </td>
                                    <td id="huxi_tongji_lowPercent">0%</td>                                    
                                                                       
                                  </tr>
                                  <tr > 
                                    <td style="width:70px">最高值</td>
                                    <td id="huxi_tongji_highValue">无</td>
                                    <td style="width:70px">最低值</td>
                                    <td colspan="3" id="huxi_tongji_lowValue">无</td>                                  
                                                                       
                                  </tr>
									</tbody>
								</table>							
									
							</div>
							
							
							</div>	
						  </div>
						</div>
					  </div>
					 </div>
				</div>
				</div>	
				</div>	
       			<div class="row">
				<div class="col-md-12">
				<div class="block" id="link6" name="link6">
						<div class="header myheader">
							<div><h4 style="display:inline-block">血氧</h4><i class="fa fa-info-circle"></i><span id="xueyang_current_time">最近一次检查时间：暂无</span>
							<c:if test="${older_slcspeizhixueyang_btn_control != 'yes' or older_slcspeizhixueyang_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="xueyangpeizhi" onclick="qingkongAll()">配置参考阈值</button>
							</c:if>	
							<c:if test="${older_slcsAddxueyang_btn_control != 'yes' or older_slcsAddxueyang_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="xueyang" onclick="qingkongAll()">添加</button>
							</c:if>	
							</div>
						</div>
					<div class="row myrow">
						<div class="col-sm-12">血氧：<span id="xueyang_current_cankaozhi">0%（参考值：95-100）</span><input id="hide_xueyang_value" type="hidden" value="0"><input id="hide_xueyang_xiao" type="hidden" value="95"><input id="hide_xueyang_da" type="hidden" value="100"></div>
						
					</div>
					<div class="panel-group accordion" id="accordion6">
					<div class="panel panel-default">
						<div class="panel-heading" onclick="query_xueyang('','1')">
						  <h4 class="panel-title">
							<a class="collapsed" data-toggle="collapse"  href="#collapse6" data-parent="#accordion6">
							  <i class="fa fa-angle-right"></i> 查看详细
							</a>
						  </h4>
						</div>
						<div id="collapse6" class="panel-collapse collapse" >
						  <div class="panel-body">
							<div class="row" >
							<div class="col-sm-12" style="margin-top:10px">
								<input type="hidden" id="xueyang_leftTJ" value="一周">
								<button type="button" class="btn btn-default " onclick="query_xueyang('一周','1')">最近一周</button>
								<button type="button" class="btn btn-default " onclick="query_xueyang('一月','1')">最近一月</button>
								<button type="button" class="btn btn-default " id="xueyang_leftzidinyi" onclick="$(this).parent().next().toggle();">自定义</button>
								<select class="form-control" id="xueyang_rightXS" style="float:right;width:auto;margin-left:10px" onchange="tableORline(6,this)"><option value="1"> 列表 </option><option value="0"> 图表 </option></select>							
								<select class="form-control" id="xueyang_rightZT" style="float:right;width:auto" onchange="query_xueyang('','1')"><option value=""> 全部 </option><option value="1"> 正常 </option><option value="2,3"> 异常 </option></select>
								  
							</div>
							<div class="col-sm-6 col-lg-4" style="display:none;"> 
								<div class="input-group">
								<input class="datetime form-control" size="10" type="text" value="" id="xueyang_leftTimeStart" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_xueyang('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								<span class="input-group-addon" style="border:0;background:#fff">~</span>
								
								<input class="datetime form-control" size="10" type="text" value="" id="xueyang_leftTimeEnd" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_xueyang('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								
								</div>
					
							</div>
							<div class="col-sm-12" id="name6-1">							
								<table class="table table-bordered dataTable hover" id="" style="margin-bottom:0;margin-top:10px" >
									<thead>
										<tr >
											<th><strong>时间</strong></th>
											<th><strong>测量值</strong></th>
											<th><strong>状态</strong></th>
											<th><strong>添加人</strong></th>
										</tr>
									</thead>
									<tbody id="datacontainer_xueyang" role="alert" aria-live="polite" aria-relevant="all">																														
									</tbody>
									</table>								
								<div class="col-sm-4" >
									<div class="dataTables_length" id="">
										<label style="margin-top:18px;">每页 <select id="pageSizeSelector_xueyang" size="1" onchange="query_tiwen('','1')"><option selected="selected" value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> 条</label>
									</div>
								</div>
								<div class="col-sm-8">
									<div class="pull-right">
												<div class="dataTables_paginate paging_bs_normal">
													<ul id="paginationArea_xueyang" class="pagination">
													<li class="prev disabled"><a href="###"><span class="fa fa-angle-left"></span>&nbsp;上一页</a></li>
													<li class="active"><a href="###">1</a></li>
													<li class="next"><a href="###">下一页&nbsp;<span class="fa fa-angle-right"></span></a></li></ul>
												</div>
											</div>
								</div>			
							</div>
							
							<div class="col-sm-12" id="name6-0" style="display:none;margin-top:20px">							
									<input id="hide_xueyang_zhexian" type="hidden" value="">						
									<div id="xueyang_zhexian" style="width:90%"></div>						
										
							</div>
							<div class="col-sm-12">							
								<table class="no-border" style="margin-top:20px">
									<tbody class="no-border-x no-border-y">
									<tr > 
                                    <td style="width:70px">统计区间</td>
                                    <td id="xueyang_tongji_timeRange">无</td>
                                    <td style="width:70px">统计笔数 </td>
                                    <td id="xueyang_tongji_totalCount">0</td> 
                                    <td style="width:70px">异常笔数 </td>
                                    <td id="xueyang_tongji_inCount">0</td>                                    
                                                                       
                                  </tr>
                                  <tr style="background:#fff" > 
                                    <td style="width:70px">正常比例</td>
                                    <td id="xueyang_tongji_nomalPercent">0%</td>
                                    <td style="width:70px">偏高比例 </td>
                                    <td id="xueyang_tongji_highPercent">0%</td> 
                                    <td style="width:70px">偏低比例 </td>
                                    <td id="xueyang_tongji_lowPercent">0%</td>                                    
                                                                       
                                  </tr>
                                  <tr > 
                                    <td style="width:70px">最高值</td>
                                    <td id="xueyang_tongji_highValue">无</td>
                                    <td style="width:70px">最低值</td>
                                    <td colspan="3" id="xueyang_tongji_lowValue">无</td>                                  
                                                                       
                                  </tr>
									</tbody>
								</table>							
									
							</div>
							
							
							</div>	
						  </div>
						</div>
					  </div>
					 </div>
				</div>
				</div>	
				</div>	 
				<div class="row">
				<div class="col-md-12">
				   <div class="block" id="link7" name="link7">
						<div class="header myheader">
							<div><h4 style="display:inline-block">骨密度</h4><i class="fa fa-info-circle"></i><span id="gumidu_current_time">最近一次检查时间：暂无</span>
							<c:if test="${older_slcspeizhigumidu_btn_control != 'yes' or older_slcspeizhigumidu_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="gumidupeizhi" onclick="qingkongAll()">配置参考阈值</button>
							</c:if>	
							<c:if test="${older_slcsAddgumidu_btn_control != 'yes' or older_slcsAddgumidu_btn_show == 'yes'}">
								<button type="button" class="btn md-trigger" data-modal="gumidu" onclick="qingkongAll()">添加</button>
							</c:if>	
							</div>
						</div>
					<div class="row myrow">
						<div class="col-sm-12">骨密度：<span id="gumidu_current_cankaozhi">0（参考值：-1 - +1）</span><input id="hide_gumidu_value" type="hidden" value="0"><input id="hide_gumidu_xiao" type="hidden" value="-1"><input id="hide_gumidu_da" type="hidden" value="1"></div>
						
					</div>
					<div class="panel-group accordion" id="accordion7">
					<div class="panel panel-default">
						<div class="panel-heading" onclick="query_gumidu('','1')">
						  <h4 class="panel-title">
							<a class="collapsed" data-toggle="collapse"  href="#collapse7" data-parent="#accordion7">
							  <i class="fa fa-angle-right"></i> 查看详细
							</a>
						  </h4>
						</div>
						<div id="collapse7" class="panel-collapse collapse" >
						  <div class="panel-body">
							<div class="row" >
							<div class="col-sm-12" style="margin-top:10px">
								<input type="hidden" id="gumidu_leftTJ" value="一周">
								<button type="button" class="btn btn-default " onclick="query_gumidu('一周','1')">最近一周</button>
								<button type="button" class="btn btn-default " onclick="query_gumidu('一月','1')">最近一月</button>
								<button type="button" class="btn btn-default " id="gumidu_leftzidinyi" onclick="$(this).parent().next().toggle();">自定义</button>
								<select class="form-control" id="gumidu_rightXS" style="float:right;width:auto;margin-left:10px" onchange="tableORline(7,this)"><option value="1"> 列表 </option><option value="0"> 图表 </option></select>							
								<select class="form-control" id="gumidu_rightZT" style="float:right;width:auto" onchange="query_gumidu('','1')"><option value=""> 全部 </option><option value="1"> 正常 </option><option value="2,3"> 异常 </option></select>
								  
							</div>
							<div class="col-sm-6 col-lg-4" style="display:none;"> 
								<div class="input-group">
								<input class="datetime form-control" size="10" type="text" value="" id="gumidu_leftTimeStart" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_gumidu('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								<span class="input-group-addon" style="border:0;background:#fff">~</span>
								
								<input class="datetime form-control" size="10" type="text" value="" id="gumidu_leftTimeEnd" data-min-view="2" data-date-format="yyyy-mm-dd" placeholder="格式：YYYY-MM-DD" readonly="readonly" onchange="query_gumidu('自定义','1')"/>
								<span class="input-group-btn"><button class="btn btn-danger deleteThisTime" type="button"><span class="fa fa-times"></span></button></span>
								</div>
					
							</div>
							<div class="col-sm-12" id="name7-1">							
								<table class="table table-bordered dataTable hover" id="" style="margin-bottom:0;margin-top:10px" >
									<thead>
										<tr >
											<th><strong>时间</strong></th>
											<th><strong>测量值</strong></th>
											<th><strong>状态</strong></th>
											<th><strong>添加人</strong></th>
										</tr>
									</thead>
									<tbody id="datacontainer_gumidu" role="alert" aria-live="polite" aria-relevant="all">																														
									</tbody>
									</table>								
								<div class="col-sm-4" >
									<div class="dataTables_length" id="">
										<label style="margin-top:18px;">每页 <select id="pageSizeSelector_gumidu" size="1" onchange="query_tiwen('','1')"><option selected="selected" value="10">10</option><option value="25">25</option><option value="50">50</option><option value="100">100</option></select> 条</label>
									</div>
								</div>
								<div class="col-sm-8">
									<div class="pull-right">
												<div class="dataTables_paginate paging_bs_normal">
													<ul id="paginationArea_gumidu" class="pagination">
													<li class="prev disabled"><a href="###"><span class="fa fa-angle-left"></span>&nbsp;上一页</a></li>
													<li class="active"><a href="###">1</a></li>
													<li class="next"><a href="###">下一页&nbsp;<span class="fa fa-angle-right"></span></a></li></ul>
												</div>
											</div>
								</div>			
							</div>
							
							<div class="col-sm-12" id="name7-0" style="display:none;margin-top:20px">							
									<input id="hide_gumidu_zhexian" type="hidden" value="">						
									<div id="gumidu_zhexian" style="width:90%"></div>						
										
							</div>
							<div class="col-sm-12">							
								<table class="no-border" style="margin-top:20px">
									<tbody class="no-border-x no-border-y">
									<tr > 
                                    <td style="width:70px">统计区间</td>
                                    <td id="gumidu_tongji_timeRange">无</td>
                                    <td style="width:70px">统计笔数 </td>
                                    <td id="gumidu_tongji_totalCount">0</td> 
                                    <td style="width:70px">异常笔数 </td>
                                    <td id="gumidu_tongji_inCount">0</td>                                    
                                                                       
                                  </tr>
                                  <tr style="background:#fff" > 
                                    <td style="width:70px">正常比例</td>
                                    <td id="gumidu_tongji_nomalPercent">0%</td>
                                    <td style="width:70px">偏高比例 </td>
                                    <td id="gumidu_tongji_highPercent">0%</td> 
                                    <td style="width:70px">偏低比例 </td>
                                    <td id="gumidu_tongji_lowPercent">0%</td>                                    
                                                                       
                                  </tr>
                                  <tr > 
                                    <td style="width:70px">最高值</td>
                                    <td id="gumidu_tongji_highValue">无</td>
                                    <td style="width:70px">最低值</td>
                                    <td colspan="3" id="gumidu_tongji_lowValue">无</td>                                  
                                                                       
                                  </tr>
									</tbody>
								</table>							
									
							</div>
							
							
							</div>	
						  </div>
						</div>
					  </div>
					 </div>
				   </div>
				</div>	
				</div>	  
            </div>

			</div>
		</div>
	</div>
	</div>
	</div>
   </div>
</div> <!-- 主页面结束 -->

    <!-- 模态框开始-->
    
                <!-- 生理参数部分的模态框-->
                <div class="md-modal colored-header custom-width md-effect-9" id="piliang">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >批量添加</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">收缩压(mmHg)<input type="text" class="form-control" id="xueya_addAll_ssy" placeholder="参考值 90-140"  onpaste="return false;" onkeypress="keyPress()"></div>
                        </div></div>
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">舒张压(mmHg)<input type="text" class="form-control" id="xueya_addAll_szy" placeholder="参考值 60-90"  onpaste="return false;" onkeypress="keyPress()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="xueya_addAll_szy_time" readonly="readonly"/></div> 
                        </div></div>
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">空腹血糖(mmol/L)<input type="text" class="form-control" id="xuetang_addAll_kf" placeholder="参考值 4-6.1"  onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="xuetang_addAll_kf_time" readonly="readonly"/></div> 
                        </div></div>
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">餐后血糖(mmol/L)<input type="text" class="form-control" id="xuetang_addAll_ch" placeholder="参考值 4-7.8"  onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="xuetang_addAll_ch_time" readonly="readonly"/></div> 
                        </div></div>
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">脉搏(次/分)<input type="text" class="form-control" id="maibo_addAll" placeholder="参考值 60-100"  onpaste="return false;" onkeypress="keyPress()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="maibo_addAll_time" readonly="readonly"/></div> 
                        </div></div>
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">体温(℃)<input type="text" class="form-control" id="tiwen_addAll" placeholder="参考值 36-37.4"  onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="tiwen_addAll_time" readonly="readonly"/></div> 
                        </div></div>
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">呼吸(次/分)<input type="text" class="form-control" id="huxi_addAll" placeholder="参考值 67-80"  onpaste="return false;" onkeypress="keyPress()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="huxi_addAll_time" readonly="readonly"/></div> 
                        </div></div>
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">血氧(%)<input type="text" class="form-control" id="xueyang_addAll" placeholder="参考值95-100"  onpaste="return false;" onkeypress="keyPress()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="xueyang_addAll_time" readonly="readonly"/></div> 
                        </div></div>
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">骨密度<input type="text" class="form-control" id="gumidu_addAll" placeholder="参考值-1 - 1"  onpaste="return false;" onkeypress="keyPress3()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="gumidu_addAll_time" readonly="readonly"/></div> 
                        </div></div>
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="yuzhiSet_all()">确定</button>
                        <button type="button" class="btn btn-default btn-flat md-close" data-dismiss="modal" id="closeAll">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="xueya">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >新增血压信息</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">收缩压(mmHg)<input type="text" class="form-control" id="xueya_add_ssy" placeholder="参考值 90-140" onpaste="return false;" onkeypress="keyPress()"></div> 
                        </div></div>
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">舒张压(mmHg)<input type="text" class="form-control" id="xueya_add_szy" placeholder="参考值 60-90" onpaste="return false;" onkeypress="keyPress()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="xueya_add_szy_time" readonly="readonly"/></div> 
                        </div></div>                        
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="add_xueya()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_add_xueya">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="xuetang">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >新增血糖信息</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">空腹血糖(mmol/L)<input type="text" class="form-control" id="xuetang_add_kf" placeholder="参考值 4-6.1" onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="xuetang_add_kf_time" readonly="readonly"/></div> 
                        </div></div>
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">餐后血糖(mmol/L)<input type="text" class="form-control" id="xuetang_add_ch" placeholder="参考值 4-7.8"  onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="xuetang_add_ch_time" readonly="readonly"/></div> 
                        </div></div>                       
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="add_xuetang()">确定</button>
                        <button type="button" class="btn  btn-default md-close" data-dismiss="modal" id="close_add_xuetang">取消</button>
                      </div>
                    </div>
                </div>
                 <div class="md-modal colored-header custom-width md-effect-9" id="maibo">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >添加脉搏信息</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">脉搏(次/分)<input type="text" class="form-control" id="maibo_add" placeholder="参考值 60-100"  onpaste="return false;" onkeypress="keyPress()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="maibo_add_time" readonly="readonly"/></div> 
                        </div></div>                        
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="add_maibo()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_add_maibo">取消</button>
                      </div>
                    </div>
                </div>
                 <div class="md-modal colored-header custom-width md-effect-9" id="tiwen">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >添加体温信息</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">体温(℃)<input type="text" class="form-control" id="tiwen_add" placeholder="参考值 36-37.4" onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="tiwen_add_time" readonly="readonly"/></div> 
                        </div></div>
                        
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat"  onclick="add_tiwen()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_add_tiwen">取消</button>
                      </div>
                    </div>
                </div>
                 <div class="md-modal colored-header custom-width md-effect-9" id="huxi">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >添加呼吸信息</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">呼吸(次/分)<input type="text" class="form-control" id="huxi_add" placeholder="参考值 67-80" onpaste="return false;" onkeypress="keyPress()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="huxi_add_time" readonly="readonly"/></div> 
                        </div></div>
                        
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="add_huxi()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_add_huxi">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="xueyang">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >添加血氧信息</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">血氧(%)<input type="text" class="form-control" id="xueyang_add" placeholder="参考值95%-100%" onpaste="return false;" onkeypress="keyPress()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="xueyang_add_time" readonly="readonly"/></div> 
                        </div></div>
                        
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="add_xueyang()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_add_xueyang">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="gumidu">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >添加骨密度信息</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                         <div class="form-group">
                        <div class="row">
                         <div class="col-sm-6">骨密度<input type="text" class="form-control" id="gumidu_add" placeholder="参考值-1 - +1" onpaste="return false;" onkeypress="keyPress3()"></div> 
                         <div class="col-sm-6">测量时间<input class="form-control datetime" size="16" type="text" value="" id="gumidu_add_time" readonly="readonly"/></div> 
                        </div></div>
                        
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="add_gumidu()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_add_gumidu">取消</button>
                      </div>
                    </div>
                </div>
                 <div class="md-modal colored-header custom-width md-effect-9" id="xueyapeizhi">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >配置血压参考阈值</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="xueya_yuzhi_ssy">收缩压(mmHg) 当前参考值 90-140</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xueya_yuzhi_ssy_xiao" onpaste="return false;" onkeypress="keyPress()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xueya_yuzhi_ssy_da" onpaste="return false;" onkeypress="keyPress()"></div> 
                        </div></div>
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="xueya_yuzhi_szy">舒张压(mmHg) 当前参考值 60-90</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xueya_yuzhi_szy_xiao" onpaste="return false;" onkeypress="keyPress()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xueya_yuzhi_szy_da" onpaste="return false;" onkeypress="keyPress()"></div> 
                        </div></div>                        
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="xueya_yuzhiSet()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_yuzhi_xueya">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="xuetangpeizhi">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >配置血糖参考阈值</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="xuetang_yuzhi_kf">空腹血糖(mmol/L) 当前参考值 4-6.1</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xuetang_yuzhi_kf_xiao" onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xuetang_yuzhi_kf_da" onpaste="return false;" onkeypress="keyPress2()"></div> 
                        </div></div>
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="xuetang_yuzhi_ch">餐后血糖(mmol/L) 当前参考值 4-7.8</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xuetang_yuzhi_ch_xiao" onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xuetang_yuzhi_ch_da" onpaste="return false;" onkeypress="keyPress2()"></div> 
                        </div></div>                        
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="xuetang_yuzhiSet()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_yuzhi_xuetang">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="maibopeizhi">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >配置脉搏参考阈值</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="maibo_yuzhi">脉搏(次/分) 当前参考值60-100</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="maibo_yuzhi_xiao" onpaste="return false;" onkeypress="keyPress()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="maibo_yuzhi_da" onpaste="return false;" onkeypress="keyPress()"></div> 
                        </div></div>                      
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="maibo_yuzhiSet()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_yuzhi_maibo">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="tiwenpeizhi">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >配置体温参考阈值</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="tiwen_yuzhi">体温(℃) 当前参考值36-37.4</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="tiwen_yuzhi_xiao" onpaste="return false;" onkeypress="keyPress2()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="tiwen_yuzhi_da" onpaste="return false;" onkeypress="keyPress2()"></div> 
                        </div></div>                      
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="tiwen_yuzhiSet()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_yuzhi_tiwen">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="huxipeizhi">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >配置呼吸参考阈值</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="huxi_yuzhi">呼吸(次/分) 当前参考值60-80</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="huxi_yuzhi_xiao" onpaste="return false;" onkeypress="keyPress()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="huxi_yuzhi_da" onpaste="return false;" onkeypress="keyPress()"></div> 
                        </div></div>                      
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="huxi_yuzhiSet()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_yuzhi_huxi">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="xueyangpeizhi">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >配置血氧参考阈值</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="xueyang_yuzhi">血氧(%) 当前参考值95%-100%</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xueyang_yuzhi_xiao" onpaste="return false;" onkeypress="keyPress()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="xueyang_yuzhi_da" onpaste="return false;" onkeypress="keyPress()"></div> 
                        </div></div>                      
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="xueyang_yuzhiSet()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_yuzhi_xueyang">取消</button>
                      </div>
                    </div>
                </div>
                <div class="md-modal colored-header custom-width md-effect-9" id="gumidupeizhi">
                    <div class="md-content">
                      <div class="modal-header">
                        <h3 >配置骨密度参考阈值</h3>
                        <button type="button" class="close md-close" data-dismiss="modal" aria-hidden="true">&times;</button>
                      </div>
                      <div class="modal-body form">
                        <div class="form-group">
                        <div class="row">
                         <div class="col-sm-12" id="gumidu_yuzhi">骨密度     当前参考值-1 - +1</div> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="gumidu_yuzhi_xiao" onpaste="return false;" onkeypress="keyPress3()"></div> 
                         <label class="col-sm-1 col-xs-2 " style="padding-top:5px">~</label> 
                         <div class="col-sm-5 col-xs-5"><input type="text" class="form-control" id="gumidu_yuzhi_da" onpaste="return false;" onkeypress="keyPress3()"></div> 
                        </div></div>                      
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn  btn-primary btn-flat" onclick="gumidu_yuzhiSet()">确定</button>
                        <button type="button" class="btn  btn-default btn-flat md-close" data-dismiss="modal" id="close_yuzhi_gumidu">取消</button>
                      </div>
                    </div>
                </div>
				 <div class="md-overlay"></div>


	<script src="js/jquery.js"></script>
	<script type="text/javascript" src="js/jquery.nanoscroller/jquery.nanoscroller.js"></script>
	<script type="text/javascript" src="js/jquery.sparkline/jquery.sparkline.min.js"></script>
	<script type="text/javascript" src="js/jquery.easypiechart/jquery.easy-pie-chart.js"></script>
  <script src="js/jquery.ui/jquery-ui.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/jquery.nestable/jquery.nestable.js"></script>
	<script type="text/javascript" src="js/bootstrap.switch/bootstrap-switch.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.datetimepicker/js/bootstrap-datetimepicker.min.js"></script>
	<script src="js/jquery.select2/select2.min.js" type="text/javascript"></script>
	<script src="js/bootstrap.slider/js/bootstrap-slider.js" type="text/javascript"></script>
	<script type="text/javascript" src="js/jquery.gritter/js/jquery.gritter.js"></script>
  <script type="text/javascript" src="js/jquery.niftymodals/js/jquery.modalEffects.js"></script>   
  <script type="text/javascript" src="js/masonry.js"></script>
  <script type="text/javascript" src="js/jquery.crop/js/jquery.Jcrop.js"></script>

  <!-- The Iframe Transport is required for browsers without support for XHR file uploads -->
  <script src="js/jquery.upload/js/jquery.iframe-transport.js"></script>
  <!-- The basic File Upload plugin -->
  <script src="js/jquery.upload/js/jquery.fileupload.js"></script>
	<script type="text/javascript" src="js/behaviour/general.js"></script>
	<script type="text/javascript" src="js/jquery.icheck/icheck.min.js"></script>
<script type="text/javascript" src="js/highcharts.js"></script>

    <script type="text/javascript">
     function checkhljhIfHave(){
    	var hljhXQHref = $("#hljhXQ").attr("href");
    	if(hljhXQHref.split("mainAdd&oldId=").length == 2){
    		 if (confirm("此人还没有护理计划，点击后为您跳转新增页"))  { 
    		      $("#hljhXQTZ").click();
    		 }
    	}else{
    		 if (confirm("此人护理计划已存在，点击后为您跳转详情页"))  { 
    		      $("#hljhXQTZ").click();
    		 }
    	}
    }
    
    //回访跳转
    function huifang(){
    	$("#huifangTZ").click();
    }
     	//只能输入数字0-9
        function keyPress() {
            var theEvent = window.event || arguments.callee.caller.arguments[0];
    		var keyCode = theEvent.keyCode || theEvent.which;
    		if ((keyCode < 48 || keyCode > 57) && keyCode != 8 && keyCode != 37 && keyCode != 39) {
               theEvent.preventDefault();
            }
        } 
        //限制输入数字,小数点，且小数点保留两位
        function keyPress2() {
            var theEvent = window.event || arguments.callee.caller.arguments[0];
    		var keyCode = theEvent.keyCode || theEvent.which;
    		if ((keyCode < 48 || keyCode > 57) && keyCode != 8 && keyCode != 46 && keyCode != 37 && keyCode != 39) {
               theEvent.preventDefault();
            }
        } 
        //限制输入数字，小数点，负号，且小数点保留两位
        function keyPress3() {
            var theEvent = window.event || arguments.callee.caller.arguments[0];
    		var keyCode = theEvent.keyCode || theEvent.which;
    		if ((keyCode < 48 || keyCode > 57) && keyCode != 8 && keyCode != 45 && keyCode != 46 && keyCode != 37 && keyCode != 39) {
               theEvent.preventDefault();
            }
        }
      $(document).ready(function(){
    	var homeUrl = "<%=request.getContextPath()%>" + "/welcome.do?main";
    	$(".navbar-brand").attr("href",homeUrl);
        //initialize the javascript
        query();
      	chushihuaSLYM();
    	$(".deleteThisTime").click(function(){               //清除日期框中的值
    	       $(this).parent().prev()[0].value = "";
    	    });
        App.init();
		$('div[class="icheckbox_square-blue checkbox checked disabled"]').removeClass("disabled");//美化checkbox框
	
	
			var oldid="<%=request.getAttribute("olderId")%>";
			var userId_login = "<%=request.getAttribute("userId")%>";
			if (userId_login == null) {
				userId_login = "";
			}
			<%-- var url1 = "<%=request.getContextPath()%>" + "/rehabilitationEvaluation.do?main&oldid=" + oldid;
    		$("#kfpd_a").attr("href",url1);
    		var url2 = "<%=request.getContextPath()%>" + "/nursingEvaluation.do?main&oldid=" + oldid;
    		$("#flpd_a").attr("href",url2);
    		var url3 = "<%=request.getContextPath()%>" + "/mixedhealthassessment.do?main&oldid=" + oldid;
    		$("#hhjkpd_a").attr("href",url3); --%>
    		var url4 = "<%=request.getContextPath()%>" + "/assessmentTask.do?mainAdd&oldid=" + oldid;
    		$("#jkpgrw_a").attr("href",url4);
    		var url5 = "<%=request.getContextPath()%>" + "/review.do?mainXQ&olderId=" + oldid;
    		$("#huifangA").attr("href",url5);
    		var url6 = "<%=request.getContextPath()%>" + "/export.do?exportdoc&olderId=" + oldid;
    		$("#exportApplicationFormA").attr("href",url6);
    		
    		query_hljh();
    		
		});
	  
	   function query_hljh(){
	   	   var oldid="<%=request.getAttribute("olderId")%>";
	   	   var reqmsg="{'action':'QUERY_NURSING_PLAN_LIST_REQUEST','page':{'pageno':'1','pagesize':'1'},'content':{";
	
		   if (oldid != null && oldid != "") {
			    reqmsg += "\"olderId\":" + oldid + ",";
		   }
		   reqmsg += "}}";

    jQuery.ajax({
          type : "post",
          async:true,
          url : "nursingPlan.do?handler",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  if (data.content != null) {
					jQuery.each(data.content.nursingPlanList, function(i, item) {	
						$("#hljhXQ").attr("href","<%=request.getContextPath()%>" + "/nursingPlan.do?mainAdd&id=" + item.id);
					});
			      }else{
			      	var name = $("#hide_oldName").val();
			      	$("#hljhXQ").attr("href","<%=request.getContextPath()%>" + "/nursingPlan.do?mainAdd&oldId=" + oldid + "&oldName=" + name);
			      }
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     });
	   }
	 
/**
 * 格式化时间
 * @method formateTime
 * @param {String} time 时间信息(YYYYMMDDHHmmSS)
 * @return 格式化的时间(YYYY-MM-DD HH:mm:SS)
 */
function formateTime11(time) {
	if (time != null && time.length == 14) {
		return time.substring(0, 4) + "-" + time.substring(4, 6) + "-" + time.substring(6, 8) + " " + time.substring(8, 10) + ":" + time.substring(10, 12) + ":" + time.substring(12, 14);
	} else {
		return time;
	}
}

function tableORline(par1,par){ //生理参数页签--par1为1~5，num为1默认表格,0为折线图
	var num = $(par).val();
	num = num %2;
	$("#name"+par1+"-"+num).show();
	num = (num+1) %2;
	$("#name"+par1+"-"+num).hide();
}

	//生理参数////////////////////////////////////////////
	//生理参数页面初始化
	function chushihuaSLYM(){
		current_SLCS();
		query_xueya('','1');
	}
	//获取最新生理参数信息
	function current_SLCS(){
		var olderId="<%=request.getAttribute("olderId")%>";
		var reqmsg="{'action':'QUERY_PHYSIOLOGICAL_PARAMETERS_CURRENT_LIST_REQUEST','page':{'pageno':'1','pagesize':'10'},'content':{";
		if (olderId != null && olderId != "") {
			reqmsg += "\"olderId\":" + olderId + ",";
		}
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Currentslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 changeData_Currentslcs(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	function changeData_Currentslcs(data){
		if (data.content != null) {
			var kfxttime = 0;
			var chxttime = 0;
			jQuery.each(data.content.physiologicalParametersCurrentList, function(i, item) {
					if(item.type == "1"){//血压
						if(item.createTime != null && item.createTime != ""){
							$("#xueya_current_time").html("最近一次检查时间：" + formateTime11(item.createTime));
						}
						//收缩压
						$("#xueya_current_ssy_cankaozhi").html(item.value + item.unit + "（参考值：" + item.minValue + "-" + item.maxValue + "）");
						$("#hide_xueya_ssy_value").val(item.value);
						$("#hide_xueya_ssy_xiao").val(item.minValue);
						$("#hide_xueya_ssy_da").val(item.maxValue);
						$("#xueya_add_ssy").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue);
						$("#xueya_addAll_ssy").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue);
						$("#xueya_yuzhi_ssy").html("收缩压(mmHg) 当前参考值" + item.minValue + "-" + item.maxValue);
						if(item.value != null && item.minValue != null && item.maxValue != null){
							if((parseFloat(item.value) < parseFloat(item.minValue)) || (parseFloat(item.value) > parseFloat(item.maxValue))){
								$("#xueya_current_ssy_cankaozhi").attr("style","color:red");
							}else{
								$("#xueya_current_ssy_cankaozhi").attr("style","");
							}
						}
						//舒张压
						$("#xueya_current_szy_cankaozhi").html(item.value2 + item.unit + "（参考值：" + item.minValue2 + "-" + item.maxValue2 + "）");
						$("#hide_xueya_szy_value").val(item.value2);
						$("#hide_xueya_szy_xiao").val(item.minValue2);
						$("#hide_xueya_szy_da").val(item.maxValue2);
						$("#xueya_add_szy").attr("placeholder","参考值" + item.minValue2 + "-" + item.maxValue2);
						$("#xueya_addAll_szy").attr("placeholder","参考值" + item.minValue2 + "-" + item.maxValue2);
						$("#xueya_yuzhi_szy").html("舒张压(mmHg) 当前参考值" + item.minValue2 + "-" + item.maxValue2);
						if(item.value2 != null && item.minValue2 != null && item.maxValue2 != null){
							if((parseFloat(item.value2) < parseFloat(item.minValue2)) || (parseFloat(item.value2) > parseFloat(item.maxValue2))){
								$("#xueya_current_szy_cankaozhi").attr("style","color:red");
							}else{
								$("#xueya_current_szy_cankaozhi").attr("style","");
							}
						}
					}
					if(item.type == "3"){//餐前血糖
						kfxttime = item.createTime;
						if(kfxttime > chxttime){
							if(item.createTime != null && item.createTime != ""){
								$("#xuetang_current_time").html("最近一次检查时间：" + formateTime11(item.createTime));
							}
						}
						$("#xuetang_current_kf_cankaozhi").html(item.value + item.unit + "（参考值：" + item.minValue + "-" + item.maxValue + "）");
						$("#hide_xuetang_kf_value").val(item.value);
						$("#hide_xuetang_kf_xiao").val(item.minValue);
						$("#hide_xuetang_kf_da").val(item.maxValue);
						$("#xuetang_add_kf").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#xuetang_addAll_kf").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#xuetang_yuzhi_kf").html("空腹血糖(mmol/L) 当前参考值" + item.minValue + "-" + item.maxValue);
						if(item.value != null && item.minValue != null && item.maxValue != null){
							if((parseFloat(item.value) < parseFloat(item.minValue)) || (parseFloat(item.value) > parseFloat(item.maxValue))){
								$("#xuetang_current_kf_cankaozhi").attr("style","color:red");
							}else{
								$("#xuetang_current_kf_cankaozhi").attr("style","");
							}
						}
					}
					if(item.type == "4"){//餐后血糖
						chxttime = item.createTime;
						if(chxttime > kfxttime){
							if(item.createTime != null && item.createTime != ""){
								$("#xuetang_current_time").html("最近一次检查时间：" + formateTime11(item.createTime));
							}
						}
						$("#xuetang_current_ch_cankaozhi").html(item.value + item.unit + "（参考值：" + item.minValue + "-" + item.maxValue + "）");
						$("#hide_xuetang_ch_value").val(item.value);
						$("#hide_xuetang_ch_xiao").val(item.minValue);
						$("#hide_xuetang_ch_da").val(item.maxValue);
						$("#xuetang_add_ch").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#xuetang_addAll_ch").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#xuetang_yuzhi_ch").html("餐后血糖(mmol/L) 当前参考值" + item.minValue + "-" + item.maxValue);
						if(item.value != null && item.minValue != null && item.maxValue != null){
							if((parseFloat(item.value) < parseFloat(item.minValue)) || (parseFloat(item.value) > parseFloat(item.maxValue))){
								$("#xuetang_current_ch_cankaozhi").attr("style","color:red");
							}else{
								$("#xuetang_current_ch_cankaozhi").attr("style","");
							}
						}
					}
					if(item.type == "5"){//脉搏
						if(item.createTime != null && item.createTime != ""){
							$("#maibo_current_time").html("最近一次检查时间：" + formateTime11(item.createTime));
						}
						$("#maibo_current_cankaozhi").html(item.value + item.unit + "（参考值：" + item.minValue + "-" + item.maxValue + "）");
						$("#hide_maibo_value").val(item.value);
						$("#hide_maibo_xiao").val(item.minValue);
						$("#hide_maibo_da").val(item.maxValue);
						$("#maibo_add").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#maibo_addAll").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#maibo_yuzhi").html("脉搏(次/分) 当前参考值" + item.minValue + "-" + item.maxValue);
						if(item.value != null && item.minValue != null && item.maxValue != null){
							if((parseFloat(item.value) < parseFloat(item.minValue)) || (parseFloat(item.value) > parseFloat(item.maxValue))){
								$("#maibo_current_cankaozhi").attr("style","color:red");
							}else{
								$("#maibo_current_cankaozhi").attr("style","");
							}
						}
					}
					if(item.type == "6"){//体温
						if(item.createTime != null && item.createTime != ""){
							$("#tiwen_current_time").html("最近一次检查时间：" + formateTime11(item.createTime));
						}
						$("#tiwen_current_cankaozhi").html(item.value + item.unit + "（参考值：" + item.minValue + "-" + item.maxValue + "）");
						$("#hide_tiwen_value").val(item.value);
						$("#hide_tiwen_xiao").val(item.minValue);
						$("#hide_tiwen_da").val(item.maxValue);
						$("#tiwen_add").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#tiwen_addAll").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#tiwen_yuzhi").html("体温(℃) 当前参考值" + item.minValue + "-" + item.maxValue);
						if(item.value != null && item.minValue != null && item.maxValue != null){
							if((parseFloat(item.value) < parseFloat(item.minValue)) || (parseFloat(item.value) > parseFloat(item.maxValue))){
								$("#tiwen_current_cankaozhi").attr("style","color:red");
							}else{
								$("#tiwen_current_cankaozhi").attr("style","");
							}
						}
					}
					if(item.type == "7"){//呼吸
						if(item.createTime != null && item.createTime != ""){
							$("#huxi_current_time").html("最近一次检查时间：" + formateTime11(item.createTime));
						}
						$("#huxi_current_cankaozhi").html(item.value + item.unit + "（参考值：" + item.minValue + "-" + item.maxValue + "）");
						$("#hide_huxi_value").val(item.value);
						$("#hide_huxi_xiao").val(item.minValue);
						$("#hide_huxi_da").val(item.maxValue);
						$("#huxi_add").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#huxi_addAll").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#huxi_yuzhi").html("呼吸(次/分) 当前参考值" + item.minValue + "-" + item.maxValue);
						if(item.value != null && item.minValue != null && item.maxValue != null){
							if((parseFloat(item.value) < parseFloat(item.minValue)) || (parseFloat(item.value) > parseFloat(item.maxValue))){
								$("#huxi_current_cankaozhi").attr("style","color:red");
							}else{
								$("#huxi_current_cankaozhi").attr("style","");
							}
						}
					}
					if(item.type == "8"){//血氧
						if(item.createTime != null && item.createTime != ""){
							$("#xueyang_current_time").html("最近一次检查时间：" + formateTime11(item.createTime));
						}
						$("#xueyang_current_cankaozhi").html(item.value + item.unit + "（参考值：" + item.minValue + "-" + item.maxValue + "）");
						$("#hide_xueyang_value").val(item.value);
						$("#hide_xueyang_xiao").val(item.minValue);
						$("#hide_xueyang_da").val(item.maxValue);
						$("#xueyang_add").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#xueyang_addAll").attr("placeholder","参考值" + item.minValue + "-" + item.maxValue + "");
						$("#xueyang_yuzhi").html("血氧(%) 当前参考值" + item.minValue + "-" + item.maxValue);
						if(item.value != null && item.minValue != null && item.maxValue != null){
							if((parseFloat(item.value) < parseFloat(item.minValue)) || (parseFloat(item.value) > parseFloat(item.maxValue))){
								$("#xueyang_current_cankaozhi").attr("style","color:red");
							}else{
								$("#xueyang_current_cankaozhi").attr("style","");
							}
						}
					}
					if(item.type == "9"){//骨密度
						if(item.createTime != null && item.createTime != ""){
							$("#gumidu_current_time").html("最近一次检查时间：" + formateTime11(item.createTime));
						}
						$("#gumidu_current_cankaozhi").html(item.value + item.unit + "（参考值：" + item.minValue + " - " + item.maxValue + "）");
						$("#hide_gumidu_value").val(item.value);
						$("#hide_gumidu_xiao").val(item.minValue);
						$("#hide_gumidu_da").val(item.maxValue);
						$("#gumidu_add").attr("placeholder","参考值" + item.minValue + " - " + item.maxValue + "");
						$("#gumidu_addAll").attr("placeholder","参考值" + item.minValue + " - " + item.maxValue + "");
						$("#gumidu_yuzhi").html("骨密度    当前参考值" + item.minValue + " - " + item.maxValue);
						if(item.value != null && item.minValue != null && item.maxValue != null){
							if((parseInt(item.value) < parseInt(item.minValue)) || (parseInt(item.value) > parseInt(item.maxValue))){
								$("#gumidu_current_cankaozhi").attr("style","color:red");
							}else{
								$("#gumidu_current_cankaozhi").attr("style","");
							}
						}
					}
			});
		}
	}
	//测量时间转化 yyyymmddhhmm
	function changeTime(time){
		time = time.split("-")[0] + time.split("-")[1] + time.split("-")[2];
		time = time.split(":")[0] + time.split(":")[1];
		time = time.replace(/\ +/g,"");
		return time;
	}
	//获取当前时间return yyyymmddhhmm
function getNowFormatDate() {
    var date = new Date();
    var month = date.getMonth() + 1;
    var strDate = date.getDate();
    var strHour = date.getHours();
    var strMinutes = date.getMinutes();
    var strSeconds = date.getSeconds();
    
    if (month >= 1 && month <= 9) {
        month = "0" + month;
    }
    if (strDate >= 0 && strDate <= 9) {
        strDate = "0" + strDate;
    }
    if (strHour >= 0 && strHour <= 9) {
        strHour = "0" + strHour;
    }
    if (strMinutes >= 0 && strMinutes <= 9) {
        strMinutes = "0" + strMinutes;
    }
    if (strSeconds >= 0 && strSeconds <= 9) {
        strSeconds = "0" + strSeconds;
    }
    var currentdate = date.getFullYear() + "" + month + "" + strDate + "" + strHour + "" + strMinutes;
    return currentdate;
}
	//获取当前登陆员工姓名
	function getLoginName(){
    	  var userId_login = "<%=request.getAttribute("userId")%>";
		  var reqmsg="{'action':'QUERY_EMPLOYEE_LIST_REQUEST','page':{'pageno':'1','pagesize':'1'},'content':{\"userId\":"+userId_login+"}}";
		  var name="";
		  jQuery.ajax({
          type : "post",
          async:false,
          url : "employee.do?handler",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  if (data.content != null) {
            	  	if(data.content.employeeList != null && data.content.employeeList.length == 1){
            	  	   name = data.content.employeeList[0].name;
            	  	}
            	  }
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     	  });
     	  return name;
	}

	//添加血压
	function add_xueya(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var xueya_add_ssy = $("#xueya_add_ssy").val();
		var xueya_add_szy = $("#xueya_add_szy").val();
		var xueya_add_szy_time = $("#xueya_add_szy_time").val();
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var status1 = 1;
		var status2 = 1;
		if(xueya_add_ssy != null && xueya_add_ssy != ""){
			if(!reg1.test(xueya_add_ssy)){ 
        		alert("请输入符合规范的收缩压!");
        		return;
    		}
    		var yuzhi1_xiao = $("#hide_xueya_ssy_xiao").val();
    		var yuzhi1_da = $("#hide_xueya_ssy_da").val();
    		if(parseFloat(xueya_add_ssy) < parseFloat(yuzhi1_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(xueya_add_ssy) > parseFloat(yuzhi1_da)){
    			status1 = 2;
    		}
		}else{
			alert("请输入收缩压!");
        	return;	
		}
		if(xueya_add_szy != null && xueya_add_szy != ""){
			if(!reg1.test(xueya_add_szy)){ 
        		alert("请输入符合规范的舒张压!");
        		return;
    		}
    		var yuzhi2_xiao = $("#hide_xueya_szy_xiao").val();
    		var yuzhi2_da = $("#hide_xueya_szy_da").val();
    		if(parseFloat(xueya_add_szy) < parseFloat(yuzhi2_xiao)){
    			status2 = 3;
    		}
    		if(parseFloat(xueya_add_szy) > parseFloat(yuzhi2_da)){
    			status2 = 2;
    		}
		}else{
			alert("请输入舒张压!");
        	return;	
		}
		if(xueya_add_szy_time != null && xueya_add_szy_time != ""){
			if(getNowFormatDate() < xueya_add_szy_time){
    		    alert("测量时间不能超过当前时间!");
        		return;
    		}
			xueya_add_szy_time = changeTime(xueya_add_szy_time) + "00";
    	}else{
    		alert("请选择测量时间!");
        	return;
    	}
    	
    	var olderId="<%=request.getAttribute("olderId")%>";
    	var userId_login="<%=request.getAttribute("userId_login")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_HISTORY_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"measurePerson\":\"" + name + "\",";
		reqmsg += "\"physiologicalParameters\":[";
		if(xueya_add_ssy != null && xueya_add_ssy != "" && xueya_add_szy != null && xueya_add_szy != "" ){
			reqmsg += "{\"type\":1,";
			reqmsg += "\"value\":" + xueya_add_ssy + ",";
			reqmsg += "\"unit\":\"mmHg\",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"value2\":" + xueya_add_szy + ",";
			reqmsg += "\"status2\":" + status2 + ",";
			reqmsg += "\"createTime\":\"" + xueya_add_szy_time + "\"},";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 query_xueya("一周","1");
            	 $("#close_add_xueya").click();
            	 alert("添加成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}

	//添加血糖
	function add_xuetang(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var xuetang_add_kf = $("#xuetang_add_kf").val();
		var xuetang_add_kf_time = $("#xuetang_add_kf_time").val();
		var xuetang_add_ch = $("#xuetang_add_ch").val();
		var xuetang_add_ch_time = $("#xuetang_add_ch_time").val();
		var reg1 = new RegExp("^[0-9]+(.[0-9]{1,2})?$");  
		var status1 = 1;
		var status2 = 1;
		if(xuetang_add_kf != null && xuetang_add_kf != ""){
			if(!reg1.test(xuetang_add_kf)){ 
        		alert("请输入符合规范的空腹血糖!");
        		return;
    		}
    		if(xuetang_add_kf_time == null || xuetang_add_kf_time == ""){
    			alert("请选择空腹血糖测量时间!");
        		return;
    		}else{
    			xuetang_add_kf_time = changeTime(xuetang_add_kf_time) + "00";
    		}
    		if(getNowFormatDate() < xuetang_add_kf_time){
    		    alert("空腹血糖测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi1_xiao = $("#hide_xuetang_kf_xiao").val();
    		var yuzhi1_da = $("#hide_xuetang_kf_da").val();
    		if(parseFloat(xuetang_add_kf) < parseFloat(yuzhi1_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(xuetang_add_kf) > parseFloat(yuzhi1_da)){
    			status1 = 2;
    		}
		}
		if(xuetang_add_ch != null && xuetang_add_ch != ""){
			if(!reg1.test(xuetang_add_ch)){ 
        		alert("请输入符合规范的餐后血糖!");
        		return;
    		}
    		if(xuetang_add_ch_time == null || xuetang_add_ch_time == ""){
    			alert("请选择餐后血糖测量时间!");
        		return;
    		}else{
    			xuetang_add_ch_time = changeTime(xuetang_add_ch_time) + "00";
    		}
    		if(getNowFormatDate() < xuetang_add_ch_time){
    		    alert("餐后血糖测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi2_xiao = $("#hide_xuetang_ch_xiao").val();
    		var yuzhi2_da = $("#hide_xuetang_ch_da").val();
    		if(parseFloat(xuetang_add_ch) < parseFloat(yuzhi2_xiao)){
    			status2 = 3;
    		}
    		if(parseFloat(xuetang_add_ch) > parseFloat(yuzhi2_da)){
    			status2 = 2;
    		}
		}
		if((xuetang_add_kf == null || xuetang_add_kf == "") && (xuetang_add_ch == null || xuetang_add_ch == "")){
			alert("请输入信息!");
        	return;
		}
    	var olderId="<%=request.getAttribute("olderId")%>";
    	var userId_login="<%=request.getAttribute("userId_login")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_HISTORY_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"measurePerson\":\"" + name + "\",";
		reqmsg += "\"physiologicalParameters\":[";
		if(xuetang_add_kf != null && xuetang_add_kf != "" ){
			reqmsg += "{\"type\":3,";
			reqmsg += "\"value\":" + xuetang_add_kf + ",";
			reqmsg += "\"unit\":\"mmol/L\",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"createTime\":\"" + xuetang_add_kf_time + "\"},";
		}
		if(xuetang_add_ch != null && xuetang_add_ch != "" ){
			reqmsg += "{\"type\":4,";
			reqmsg += "\"value\":" + xuetang_add_ch + ",";
			reqmsg += "\"unit\":\"mmol/L\",";
			reqmsg += "\"status\":" + status2 + ",";
			reqmsg += "\"createTime\":\"" + xuetang_add_ch_time + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 query_xuetang("一周","1");
            	 $("#close_add_xuetang").click();
             	 alert("添加成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//添加脉搏
	function add_maibo(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var maibo_add = $("#maibo_add").val();
		var maibo_add_time = $("#maibo_add_time").val();
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var status1 = 1;
		if(maibo_add != null && maibo_add != ""){
			if(!reg1.test(maibo_add)){ 
        		alert("请输入符合规范的脉搏!");
        		return;
    		}
    		if(maibo_add_time == null || maibo_add_time == ""){
    			alert("请选择脉搏测量时间!");
        		return;
    		}else{
    			maibo_add_time = changeTime(maibo_add_time) + "00";
    		}
    		if(getNowFormatDate() < maibo_add_time){
    		    alert("脉搏测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi1_xiao = $("#hide_maibo_xiao").val();
    		var yuzhi1_da = $("#hide_maibo_da").val();
    		if(parseFloat(maibo_add) < parseFloat(yuzhi1_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(maibo_add) > parseFloat(yuzhi1_da)){
    			status1 = 2;
    		}
		}
		if(maibo_add == null || maibo_add == ""){
			alert("请输入信息!");
        	return;
		}
    	var olderId="<%=request.getAttribute("olderId")%>";
    	var userId_login="<%=request.getAttribute("userId_login")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_HISTORY_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"measurePerson\":\"" + name + "\",";
		reqmsg += "\"physiologicalParameters\":[";
		if(maibo_add != null && maibo_add != "" ){
			reqmsg += "{\"type\":5,";
			reqmsg += "\"value\":" + maibo_add + ",";
			reqmsg += "\"unit\":\"次/分\",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"createTime\":\"" + maibo_add_time + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 query_maibo("一周","1");
            	 $("#close_add_maibo").click();
             	 alert("添加成功");
              }else{
                 alert("error " + data.result);
              }	
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//添加体温
	function add_tiwen(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var tiwen_add = $("#tiwen_add").val();
		var tiwen_add_time = $("#tiwen_add_time").val();
		var reg1 = new RegExp("^[0-9]+(.[0-9]{1,2})?$"); 
		var status1 = 1;
		if(tiwen_add != null && tiwen_add != ""){
			if(!reg1.test(tiwen_add)){ 
        		alert("请输入符合规范的体温!");
        		return;
    		}
    		if(tiwen_add_time == null || tiwen_add_time == ""){
    			alert("请选择体温测量时间!");
        		return;
    		}else{
    			tiwen_add_time = changeTime(tiwen_add_time) + "00";
    		}
    		if(getNowFormatDate() < tiwen_add_time){
    		    alert("体温测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi1_xiao = $("#hide_tiwen_xiao").val();
    		var yuzhi1_da = $("#hide_tiwen_da").val();
    		if(parseFloat(tiwen_add) < parseFloat(yuzhi1_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(tiwen_add) > parseFloat(yuzhi1_da)){
    			status1 = 2;
    		}
		}
		if(tiwen_add == null || tiwen_add == ""){
			alert("请输入信息!");
        	return;
		}
    	var olderId="<%=request.getAttribute("olderId")%>";
    	var userId_login="<%=request.getAttribute("userId_login")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_HISTORY_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"measurePerson\":\"" + name + "\",";
		reqmsg += "\"physiologicalParameters\":[";
		if(tiwen_add != null && tiwen_add != "" ){
			reqmsg += "{\"type\":6,";
			reqmsg += "\"value\":" + tiwen_add + ",";
			reqmsg += "\"unit\":\"℃\",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"createTime\":\"" + tiwen_add_time + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 query_tiwen("一周","1");
            	 $("#close_add_tiwen").click();
              	 alert("添加成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//添加呼吸
	function add_huxi(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var huxi_add = $("#huxi_add").val();
		var huxi_add_time = $("#huxi_add_time").val();
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var status1 = 1;
		if(huxi_add != null && huxi_add != ""){
			if(!reg1.test(huxi_add)){ 
        		alert("请输入符合规范的呼吸!");
        		return;
    		}
    		if(huxi_add_time == null || huxi_add_time == ""){
    			alert("请选择呼吸测量时间!");
        		return;
    		}else{
    			huxi_add_time = changeTime(huxi_add_time) + "00";
    		}
    		if(getNowFormatDate() < huxi_add_time){
    		    alert("呼吸测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi1_xiao = $("#hide_huxi_xiao").val();
    		var yuzhi1_da = $("#hide_huxi_da").val();
    		if(parseFloat(huxi_add) < parseFloat(yuzhi1_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(huxi_add) > parseFloat(yuzhi1_da)){
    			status1 = 2;
    		}
		}
		if(huxi_add == null || huxi_add == ""){
			alert("请输入信息!");
        	return;
		}
    	var olderId="<%=request.getAttribute("olderId")%>";
    	var userId_login="<%=request.getAttribute("userId_login")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_HISTORY_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"measurePerson\":\"" + name + "\",";
		reqmsg += "\"physiologicalParameters\":[";
		if(huxi_add != null && huxi_add != "" ){
			reqmsg += "{\"type\":7,";
			reqmsg += "\"value\":" + huxi_add + ",";
			reqmsg += "\"unit\":\"次/分\",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"createTime\":\"" + huxi_add_time + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 query_huxi("一周","1");
            	 $("#close_add_huxi").click();
             	 alert("添加成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//添加血氧
	function add_xueyang(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var xueyang_add = $("#xueyang_add").val();
		var xueyang_add_time = $("#xueyang_add_time").val();
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var status1 = 1;
		if(xueyang_add != null && xueyang_add != ""){
			if(!reg1.test(xueyang_add)){ 
        		alert("请输入符合规范的血氧!");
        		return;
    		}
    		if(xueyang_add_time == null || xueyang_add_time == ""){
    			alert("请选择血氧测量时间!");
        		return;
    		}else{
    			xueyang_add_time = changeTime(xueyang_add_time) + "00";
    		}
    		if(getNowFormatDate() < xueyang_add_time){
    		    alert("血氧测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi1_xiao = $("#hide_xueyang_xiao").val();
    		var yuzhi1_da = $("#hide_xueyang_da").val();
    		if(parseFloat(xueyang_add) < parseFloat(yuzhi1_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(xueyang_add) > parseFloat(yuzhi1_da)){
    			status1 = 2;
    		}
		}
		if(xueyang_add == null || xueyang_add == ""){
			alert("请输入信息!");
        	return;
		}
    	var olderId="<%=request.getAttribute("olderId")%>";
    	var userId_login="<%=request.getAttribute("userId_login")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_HISTORY_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"measurePerson\":\"" + name + "\",";
		reqmsg += "\"physiologicalParameters\":[";
		if(xueyang_add != null && xueyang_add != "" ){
			reqmsg += "{\"type\":8,";
			reqmsg += "\"value\":" + xueyang_add + ",";
			reqmsg += "\"unit\":\"%\",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"createTime\":\"" + xueyang_add_time + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 query_xueyang("一周","1");
            	 $("#close_add_xueyang").click();
             	 alert("添加成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//添加骨密度
	function add_gumidu(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var gumidu_add = $("#gumidu_add").val();
		var gumidu_add_time = $("#gumidu_add_time").val();
		var reg1 = new RegExp("^[0-9]+(.[0-9]{1,2})?$"); 
		var status1 = 1;
		if(gumidu_add != null && gumidu_add != ""){
			if(gumidu_add.substr(0,1) == "-"){
				var gumidu_add2 = gumidu_add.substr(1,gumidu_add.length-1);
				if(!reg1.test(gumidu_add2)){ 
        			alert("请输入符合规范的骨密度!");
        			return;
    			}
			}else{
				if(!reg1.test(gumidu_add)){ 
        			alert("请输入符合规范的骨密度!");
        			return;
    			}
			}
    		if(gumidu_add_time == null || gumidu_add_time == ""){
    			alert("请选择骨密度测量时间!");
        		return;
    		}else{
    			gumidu_add_time = changeTime(gumidu_add_time) + "00";
    		}
    		if(getNowFormatDate() < gumidu_add_time){
    		    alert("骨密度测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi1_xiao = $("#hide_gumidu_xiao").val();
    		var yuzhi1_da = $("#hide_gumidu_da").val();
    		if(parseInt(gumidu_add) < parseInt(yuzhi1_xiao)){
    			status1 = 3;
    		}
    		if(parseInt(gumidu_add) > parseInt(yuzhi1_da)){
    			status1 = 2;
    		}
		}
		if(gumidu_add == null || gumidu_add == ""){
			alert("请输入信息!");
        	return;
		}
    	var olderId="<%=request.getAttribute("olderId")%>";
    	var userId_login="<%=request.getAttribute("userId_login")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_HISTORY_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"measurePerson\":\"" + name + "\",";
		reqmsg += "\"physiologicalParameters\":[";
		if(gumidu_add != null && gumidu_add != "" ){
			reqmsg += "{\"type\":9,";
			reqmsg += "\"value\":" + gumidu_add + ",";
			reqmsg += "\"unit\":\" \",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"createTime\":\"" + gumidu_add_time + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 query_gumidu("一周","1");
            	 $("#close_add_gumidu").click();
             	 alert("添加成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//所有参数种类批量添加
	function yuzhiSet_all(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var flag = 0;
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var reg2 = new RegExp("^[0-9]+(.[0-9]{1,2})?$"); 
		var xueya_addAll_ssy = $("#xueya_addAll_ssy").val();
		var xueya_addAll_szy = $("#xueya_addAll_szy").val();
		var xueya_addAll_szy_time = $("#xueya_addAll_szy_time").val();
		var status1 = 1;
		var status2 = 1;
		if((xueya_addAll_ssy != null && xueya_addAll_ssy != "") || (xueya_addAll_szy != null && xueya_addAll_szy != "") || (xueya_addAll_szy_time != null && xueya_addAll_szy_time != "")){
		if(xueya_addAll_ssy != null && xueya_addAll_ssy != ""){
			if(!reg1.test(xueya_addAll_ssy)){ 
        		alert("请输入符合规范的收缩压!");
        		return;
    		}
    		var yuzhi1_xiao = $("#hide_xueya_ssy_xiao").val();
    		var yuzhi1_da = $("#hide_xueya_ssy_da").val();
    		if(parseFloat(xueya_addAll_ssy) < parseFloat(yuzhi1_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(xueya_addAll_ssy) > parseFloat(yuzhi1_da)){
    			status1 = 2;
    		}
    		flag++;
		}else{
			alert("收缩压,舒张压,测量时间是一起填写的!");
        	return;	
		}
		if(xueya_addAll_szy != null && xueya_addAll_szy != ""){
			if(!reg1.test(xueya_addAll_szy)){ 
        		alert("请输入符合规范的舒张压!");
        		return;
    		}
    		var yuzhi2_xiao = $("#hide_xueya_szy_xiao").val();
    		var yuzhi2_da = $("#hide_xueya_szy_da").val();
    		if(parseFloat(xueya_addAll_szy) < parseFloat(yuzhi2_xiao)){
    			status2 = 3;
    		}
    		if(parseFloat(xueya_addAll_szy) > parseFloat(yuzhi2_da)){
    			status2 = 2;
    		}
    		flag++;
		}else{
			alert("收缩压,舒张压,测量时间是一起填写的!");
        	return;	
		}
		if(xueya_addAll_szy_time != null && xueya_addAll_szy_time != ""){
			if(getNowFormatDate() < xueya_addAll_szy_time){
    		    alert("测量时间不能超过当前时间!");
        		return;
    		}
			xueya_addAll_szy_time = changeTime(xueya_addAll_szy_time) + "00";
			flag++;
    	}else{
    		alert("收缩压,舒张压,测量时间是一起填写的!");
        	return;
    	}
		}
		
		var xuetang_addAll_kf = $("#xuetang_addAll_kf").val();
		var xuetang_addAll_kf_time = $("#xuetang_addAll_kf_time").val();
		var xuetang_addAll_ch = $("#xuetang_addAll_ch").val();
		var xuetang_addAll_ch_time = $("#xuetang_addAll_ch_time").val();
		var status3 = 1;
		var status4 = 1;
		if(xuetang_addAll_kf != null && xuetang_addAll_kf != ""){
			if(!reg2.test(xuetang_addAll_kf)){ 
        		alert("请输入符合规范的空腹血糖!");
        		return;
    		}
    		if(xuetang_addAll_kf_time == null || xuetang_addAll_kf_time == ""){
    			alert("请选择空腹血糖测量时间!");
        		return;
    		}else{
    			xuetang_addAll_kf_time = changeTime(xuetang_addAll_kf_time) + "00";
    		}
    		if(getNowFormatDate() < xuetang_addAll_kf_time){
    		    alert("空腹血糖测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi3_xiao = $("#hide_xuetang_kf_xiao").val();
    		var yuzhi3_da = $("#hide_xuetang_kf_da").val();
    		if(parseFloat(xuetang_addAll_kf) < parseFloat(yuzhi3_xiao)){
    			status3 = 3;
    		}
    		if(parseFloat(xuetang_addAll_kf) > parseFloat(yuzhi3_da)){
    			status3 = 2;
    		}
    		flag++;
		}
		if(xuetang_addAll_ch != null && xuetang_addAll_ch != ""){
			if(!reg2.test(xuetang_addAll_ch)){ 
        		alert("请输入符合规范的餐后血糖!");
        		return;
    		}
    		if(xuetang_addAll_ch_time == null || xuetang_addAll_ch_time == ""){
    			alert("请选择餐后血糖测量时间!");
        		return;
    		}else{
    			xuetang_addAll_ch_time = changeTime(xuetang_addAll_ch_time) + "00";
    		}
    		if(getNowFormatDate() < xuetang_addAll_ch_time){
    		    alert("餐后血糖测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi4_xiao = $("#hide_xuetang_ch_xiao").val();
    		var yuzhi4_da = $("#hide_xuetang_ch_da").val();
    		if(parseFloat(xuetang_addAll_ch) < parseFloat(yuzhi4_xiao)){
    			status4 = 3;
    		}
    		if(parseFloat(xuetang_addAll_ch) > parseFloat(yuzhi4_da)){
    			status4 = 2;
    		}
    		flag++;
		}
		
		var maibo_addAll = $("#maibo_addAll").val();
		var maibo_addAll_time = $("#maibo_addAll_time").val();
		var status5 = 1;
		if(maibo_addAll != null && maibo_addAll != ""){
			if(!reg1.test(maibo_addAll)){ 
        		alert("请输入符合规范的脉搏!");
        		return;
    		}
    		if(maibo_addAll_time == null || maibo_addAll_time == ""){
    			alert("请选择脉搏测量时间!");
        		return;
    		}else{
    			maibo_addAll_time = changeTime(maibo_addAll_time) + "00";
    		}
    		if(getNowFormatDate() < maibo_addAll_time){
    		    alert("脉搏测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi5_xiao = $("#hide_maibo_xiao").val();
    		var yuzhi5_da = $("#hide_maibo_da").val();
    		if(parseFloat(maibo_addAll) < parseFloat(yuzhi5_xiao)){
    			status5 = 3;
    		}
    		if(parseFloat(maibo_addAll) > parseFloat(yuzhi5_da)){
    			status5 = 2;
    		}
    		flag++;
		}
		
		var tiwen_addAll = $("#tiwen_addAll").val();
		var tiwen_addAll_time = $("#tiwen_addAll_time").val();
		var status6 = 1;
		if(tiwen_addAll != null && tiwen_addAll != ""){
			if(!reg2.test(tiwen_addAll)){ 
        		alert("请输入符合规范的体温!");
        		return;
    		}
    		if(tiwen_addAll_time == null || tiwen_addAll_time == ""){
    			alert("请选择体温测量时间!");
        		return;
    		}else{
    			tiwen_addAll_time = changeTime(tiwen_addAll_time) + "00";
    		}
    		if(getNowFormatDate() < tiwen_addAll_time){
    		    alert("体温测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi6_xiao = $("#hide_tiwen_xiao").val();
    		var yuzhi6_da = $("#hide_tiwen_da").val();
    		if(parseFloat(tiwen_addAll) < parseFloat(yuzhi6_xiao)){
    			status6 = 3;
    		}
    		if(parseFloat(tiwen_addAll) > parseFloat(yuzhi6_da)){
    			status6 = 2;
    		}
    		flag++;
		}
		
		var huxi_addAll = $("#huxi_addAll").val();
		var huxi_addAll_time = $("#huxi_addAll_time").val();
		var status7 = 1;
		if(huxi_addAll != null && huxi_addAll != ""){
			if(!reg1.test(huxi_addAll)){ 
        		alert("请输入符合规范的呼吸!");
        		return;
    		}
    		if(huxi_addAll_time == null || huxi_addAll_time == ""){
    			alert("请选择呼吸测量时间!");
        		return;
    		}else{
    			huxi_addAll_time = changeTime(huxi_addAll_time) + "00";
    		}
    		if(getNowFormatDate() < huxi_addAll_time){
    		    alert("呼吸测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi7_xiao = $("#hide_huxi_xiao").val();
    		var yuzhi7_da = $("#hide_huxi_da").val();
    		if(parseFloat(huxi_addAll) < parseFloat(yuzhi7_xiao)){
    			status7 = 3;
    		}
    		if(parseFloat(huxi_addAll) > parseFloat(yuzhi7_da)){
    			status7 = 2;
    		}
    		flag++;
		}
		
		var xueyang_addAll = $("#xueyang_addAll").val();
		var xueyang_addAll_time = $("#xueyang_addAll_time").val();
		var status8 = 1;
		if(xueyang_addAll != null && xueyang_addAll != ""){
			if(!reg1.test(xueyang_addAll)){ 
        		alert("请输入符合规范的血氧!");
        		return;
    		}
    		if(xueyang_addAll_time == null || xueyang_addAll_time == ""){
    			alert("请选择血氧测量时间!");
        		return;
    		}else{
    			xueyang_addAll_time = changeTime(xueyang_addAll_time) + "00";
    		}
    		if(getNowFormatDate() < xueyang_addAll_time){
    		    alert("血氧测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi8_xiao = $("#hide_xueyang_xiao").val();
    		var yuzhi8_da = $("#hide_xueyang_da").val();
    		if(parseFloat(xueyang_addAll) < parseFloat(yuzhi8_xiao)){
    			status8 = 3;
    		}
    		if(parseFloat(xueyang_addAll) > parseFloat(yuzhi8_da)){
    			status8 = 2;
    		}
    		flag++;
		}
		
		var gumidu_add = $("#gumidu_add").val();
		var gumidu_add_time = $("#gumidu_add_time").val();
		var status9 = 1;
		if(gumidu_add != null && gumidu_add != ""){
			if(gumidu_add.substr(0,1) == "-"){
				var gumidu_add2 = gumidu_add.substr(1,gumidu_add.length-1);
				if(!reg2.test(gumidu_add2)){ 
        			alert("请输入符合规范的骨密度!");
        			return;
    			}
			}else{
				if(!reg2.test(gumidu_add)){ 
        			alert("请输入符合规范的骨密度!");
        			return;
    			}
			}
    		if(gumidu_add_time == null || gumidu_add_time == ""){
    			alert("请选择骨密度测量时间!");
        		return;
    		}else{
    			gumidu_add_time = changeTime(gumidu_add_time) + "00";
    		}
    		if(getNowFormatDate() < gumidu_add_time){
    		    alert("骨密度测量时间不能超过当前时间!");
        		return;
    		}
    		var yuzhi9_xiao = $("#hide_gumidu_xiao").val();
    		var yuzhi9_da = $("#hide_gumidu_da").val();
    		if(parseInt(gumidu_add) < parseInt(yuzhi9_xiao)){
    			status9 = 3;
    		}
    		if(parseInt(gumidu_add) > parseInt(yuzhi9_da)){
    			status9 = 2;
    		}
    		flag++;
		}
		
		if(flag == 0){
			alert("请输入信息!");
        	return;
		}
    	var olderId="<%=request.getAttribute("olderId")%>";
    	var userId_login="<%=request.getAttribute("userId_login")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_HISTORY_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"measurePerson\":\"" + name + "\",";
		reqmsg += "\"physiologicalParameters\":[";
		if(xueya_addAll_ssy != null && xueya_addAll_ssy != "" ){
			reqmsg += "{\"type\":1,";
			reqmsg += "\"value\":" + xueya_addAll_ssy + ",";
			reqmsg += "\"unit\":\"mmHg\",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"value2\":" + xueya_addAll_szy + ",";
			reqmsg += "\"status2\":" + status2 + ",";
			reqmsg += "\"createTime\":\"" + xueya_addAll_szy_time + "\"},";
		}
		if(xuetang_addAll_kf != null && xuetang_addAll_kf != "" ){
			reqmsg += "{\"type\":3,";
			reqmsg += "\"value\":" + xuetang_addAll_kf + ",";
			reqmsg += "\"unit\":\"mmol/L\",";
			reqmsg += "\"status\":" + status3 + ",";
			reqmsg += "\"createTime\":\"" + xuetang_addAll_kf_time + "\"},";
		}
		if(xuetang_addAll_ch != null && xuetang_addAll_ch != "" ){
			reqmsg += "{\"type\":4,";
			reqmsg += "\"value\":" + xuetang_addAll_ch + ",";
			reqmsg += "\"unit\":\"mmol/L\",";
			reqmsg += "\"status\":" + status4 + ",";
			reqmsg += "\"createTime\":\"" + xuetang_addAll_ch_time + "\"},";
		}
		if(maibo_addAll != null && maibo_addAll != "" ){
			reqmsg += "{\"type\":5,";
			reqmsg += "\"value\":" + maibo_addAll + ",";
			reqmsg += "\"unit\":\"次/分\",";
			reqmsg += "\"status\":" + status5 + ",";
			reqmsg += "\"createTime\":\"" + maibo_addAll_time + "\"},";
		}
		if(tiwen_addAll != null && tiwen_addAll != "" ){
			reqmsg += "{\"type\":6,";
			reqmsg += "\"value\":" + tiwen_addAll + ",";
			reqmsg += "\"unit\":\"℃\",";
			reqmsg += "\"status\":" + status6 + ",";
			reqmsg += "\"createTime\":\"" + tiwen_addAll_time + "\"},";
		}
		if(huxi_addAll != null && huxi_addAll != "" ){
			reqmsg += "{\"type\":7,";
			reqmsg += "\"value\":" + huxi_addAll + ",";
			reqmsg += "\"unit\":\"次/分\",";
			reqmsg += "\"status\":" + status7 + ",";
			reqmsg += "\"createTime\":\"" + huxi_addAll_time + "\"},";
		}
		if(xueyang_addAll != null && xueyang_addAll != "" ){
			reqmsg += "{\"type\":8,";
			reqmsg += "\"value\":" + xueyang_addAll + ",";
			reqmsg += "\"unit\":\"%\",";
			reqmsg += "\"status\":" + status8 + ",";
			reqmsg += "\"createTime\":\"" + xueyang_addAll_time + "\"},";
		}
		if(gumidu_add != null && gumidu_add != "" ){
			reqmsg += "{\"type\":9,";
			reqmsg += "\"value\":" + gumidu_add + ",";
			reqmsg += "\"unit\":\" \",";
			reqmsg += "\"status\":" + status9 + ",";
			reqmsg += "\"createTime\":\"" + gumidu_add_time + "\"}";
		}
		
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 $("#closeAll").click();
            	 alert("添加成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
		
	}
	
	//血压阈值配置
	function xueya_yuzhiSet(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var xueya_yuzhi_ssy_xiao = $("#xueya_yuzhi_ssy_xiao").val();
		var xueya_yuzhi_ssy_da = $("#xueya_yuzhi_ssy_da").val();
		var xueya_yuzhi_szy_xiao = $("#xueya_yuzhi_szy_xiao").val();
		var xueya_yuzhi_szy_da = $("#xueya_yuzhi_szy_da").val();
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var status1 = 1;
		var status2 = 1;
		if(xueya_yuzhi_ssy_xiao == "" && xueya_yuzhi_ssy_da == "" && xueya_yuzhi_szy_xiao == "" && xueya_yuzhi_szy_da == ""){
			alert("请输入信息!");
        	return;
		}else{
			if(xueya_yuzhi_ssy_xiao != "" || xueya_yuzhi_ssy_da != ""){
				if(!reg1.test(xueya_yuzhi_ssy_xiao) || !reg1.test(xueya_yuzhi_ssy_da)){ 
        			alert("请输入符合规范的血压收缩压阈值!");
        			return;
    			}
			}
			if(xueya_yuzhi_szy_xiao != "" || xueya_yuzhi_szy_da != ""){
				if(!reg1.test(xueya_yuzhi_szy_xiao) || !reg1.test(xueya_yuzhi_szy_da)){ 
        			alert("请输入符合规范的血压舒张压阈值!");
        			return;
    			}
			}
    		var yuzhi_value1 = $("#hide_xueya_ssy_value").val();
    		if(parseFloat(yuzhi_value1) < parseFloat(xueya_yuzhi_ssy_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(yuzhi_value1) > parseFloat(xueya_yuzhi_ssy_da)){
    			status1 = 2;
    		}
    		var yuzhi_value2 = $("#hide_xueya_szy_value").val();
    		if(parseFloat(yuzhi_value2) < parseFloat(xueya_yuzhi_szy_xiao)){
    			status2 = 3;
    		}
    		if(parseFloat(yuzhi_value2) > parseFloat(xueya_yuzhi_szy_da)){
    			status2 = 2;
    		}
		}
		
    	var olderId="<%=request.getAttribute("olderId")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_CURRENT_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"physiologicalParameters\":[";
		reqmsg += "{\"type\":1,";
		if(xueya_yuzhi_ssy_xiao != null && xueya_yuzhi_ssy_xiao != "" ){
			reqmsg += "\"thresholdPerson\":\"" + name + "\",";
			reqmsg += "\"minValue\":" + xueya_yuzhi_ssy_xiao + ",";
			reqmsg += "\"maxValue\":" + xueya_yuzhi_ssy_da + ",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"thresholdTime\":\"" + getNowFormatDate() + "00" + "\",";
		}
		if(xueya_yuzhi_szy_xiao != null && xueya_yuzhi_szy_xiao != "" ){
			reqmsg += "\"thresholdPerson2\":\"" + name + "\",";
			reqmsg += "\"minValue2\":" + xueya_yuzhi_szy_xiao + ",";
			reqmsg += "\"maxValue2\":" + xueya_yuzhi_szy_da + ",";
			reqmsg += "\"status2\":" + status2 + ",";
			reqmsg += "\"thresholdTime2\":\"" + getNowFormatDate() + "00" + "\"";
		}
		reqmsg += "}]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Currentslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 $("#close_yuzhi_xueya").click();
            	 alert("修改成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//血糖阈值配置
	function xuetang_yuzhiSet(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var xuetang_yuzhi_kf_xiao = $("#xuetang_yuzhi_kf_xiao").val();
		var xuetang_yuzhi_kf_da = $("#xuetang_yuzhi_kf_da").val();
		var xuetang_yuzhi_ch_xiao = $("#xuetang_yuzhi_ch_xiao").val();
		var xuetang_yuzhi_ch_da = $("#xuetang_yuzhi_ch_da").val();
		var reg1 = new RegExp("^[0-9]+(.[0-9]{1,2})?$"); 
		var status1 = 1;
		var status2 = 1;
		if(xuetang_yuzhi_kf_xiao == "" && xuetang_yuzhi_kf_da == "" && xuetang_yuzhi_ch_xiao == "" && xuetang_yuzhi_ch_da == ""){
			alert("请输入信息!");
        	return;
		}else{
			if(xuetang_yuzhi_kf_xiao != "" || xuetang_yuzhi_kf_da != ""){
				if(!reg1.test(xuetang_yuzhi_kf_xiao) || !reg1.test(xuetang_yuzhi_kf_da)){ 
        			alert("请输入符合规范的空腹血糖阈值!");
        			return;
    			}
			}
			if(xuetang_yuzhi_ch_xiao != "" || xuetang_yuzhi_ch_da != ""){
				if(!reg1.test(xuetang_yuzhi_ch_xiao) || !reg1.test(xuetang_yuzhi_ch_da)){ 
        			alert("请输入符合规范的餐后血糖阈值!");
        			return;
    			}
			}
    		var yuzhi_value1 = $("#hide_xuetang_kf_value").val();
    		if(parseFloat(yuzhi_value1) < parseFloat(xuetang_yuzhi_kf_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(yuzhi_value1) > parseFloat(xuetang_yuzhi_kf_da)){
    			status1 = 2;
    		}
    		var yuzhi_value2 = $("#hide_xuetang_ch_value").val();
    		if(parseFloat(yuzhi_value2) < parseFloat(xuetang_yuzhi_ch_xiao)){
    			status2 = 3;
    		}
    		if(parseFloat(yuzhi_value2) > parseFloat(xuetang_yuzhi_ch_da)){
    			status2 = 2;
    		}
		}
		
    	var olderId="<%=request.getAttribute("olderId")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_CURRENT_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"physiologicalParameters\":[";
		if(xuetang_yuzhi_kf_xiao != null && xuetang_yuzhi_kf_xiao != "" ){
			reqmsg += "{\"type\":3,";
			reqmsg += "\"thresholdPerson\":\"" + name + "\",";
			reqmsg += "\"minValue\":" + xuetang_yuzhi_kf_xiao + ",";
			reqmsg += "\"maxValue\":" + xuetang_yuzhi_kf_da + ",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"thresholdTime\":\"" + getNowFormatDate() + "00" + "\"},";
		}
		if(xuetang_yuzhi_ch_xiao != null && xuetang_yuzhi_ch_da != "" ){
			reqmsg += "{\"type\":4,";
			reqmsg += "\"thresholdPerson\":\"" + name + "\",";
			reqmsg += "\"minValue\":" + xuetang_yuzhi_ch_xiao + ",";
			reqmsg += "\"maxValue\":" + xuetang_yuzhi_ch_da + ",";
			reqmsg += "\"status\":" + status2 + ",";
			reqmsg += "\"thresholdTime\":\"" + getNowFormatDate() + "00" + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Currentslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 $("#close_yuzhi_xuetang").click();
             	 alert("修改成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//脉搏阈值配置
	function maibo_yuzhiSet(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var maibo_yuzhi_xiao = $("#maibo_yuzhi_xiao").val();
		var maibo_yuzhi_da = $("#maibo_yuzhi_da").val();
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var status1 = 1;
		if(maibo_yuzhi_xiao == "" && maibo_yuzhi_da == ""){
			alert("请输入信息!");
        	return;
		}else{
			if(maibo_yuzhi_xiao != "" || maibo_yuzhi_da != ""){
				if(!reg1.test(maibo_yuzhi_xiao) || !reg1.test(maibo_yuzhi_da)){ 
        			alert("请输入符合规范的脉搏阈值!");
        			return;
    			}
			}
    		var yuzhi_value1 = $("#hide_maibo_value").val();
    		if(parseFloat(yuzhi_value1) < parseFloat(maibo_yuzhi_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(yuzhi_value1) > parseFloat(maibo_yuzhi_da)){
    			status1 = 2;
    		}
		}
		
    	var olderId="<%=request.getAttribute("olderId")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_CURRENT_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"physiologicalParameters\":[";
		if(maibo_yuzhi_xiao != null && maibo_yuzhi_xiao != "" ){
			reqmsg += "{\"type\":5,";
			reqmsg += "\"thresholdPerson\":\"" + name + "\",";
			reqmsg += "\"minValue\":" + maibo_yuzhi_xiao + ",";
			reqmsg += "\"maxValue\":" + maibo_yuzhi_da + ",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"thresholdTime\":\"" + getNowFormatDate() + "00" + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Currentslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 $("#close_yuzhi_maibo").click();
             	 alert("修改成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//体温阈值配置
	function tiwen_yuzhiSet(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var tiwen_yuzhi_xiao = $("#tiwen_yuzhi_xiao").val();
		var tiwen_yuzhi_da = $("#tiwen_yuzhi_da").val();
		var reg1 = new RegExp("^[0-9]+(.[0-9]{1,2})?$"); 
		var status1 = 1;
		if(tiwen_yuzhi_xiao == "" && tiwen_yuzhi_da == ""){
			alert("请输入信息!");
        	return;
		}else{
			if(tiwen_yuzhi_xiao != "" || tiwen_yuzhi_da != ""){
				if(!reg1.test(tiwen_yuzhi_xiao) || !reg1.test(tiwen_yuzhi_da)){ 
        			alert("请输入符合规范的体温阈值!");
        			return;
    			}
			}
    		var yuzhi_value1 = $("#hide_tiwen_value").val();
    		if(parseFloat(yuzhi_value1) < parseFloat(tiwen_yuzhi_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(yuzhi_value1) > parseFloat(tiwen_yuzhi_da)){
    			status1 = 2;
    		}
		}
		
    	var olderId="<%=request.getAttribute("olderId")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_CURRENT_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"physiologicalParameters\":[";
		if(tiwen_yuzhi_xiao != null && tiwen_yuzhi_xiao != "" ){
			reqmsg += "{\"type\":6,";
			reqmsg += "\"thresholdPerson\":\"" + name + "\",";
			reqmsg += "\"minValue\":" + tiwen_yuzhi_xiao + ",";
			reqmsg += "\"maxValue\":" + tiwen_yuzhi_da + ",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"thresholdTime\":\"" + getNowFormatDate() + "00" + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Currentslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 $("#close_yuzhi_tiwen").click();
             	 alert("修改成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//呼吸阈值配置
	function huxi_yuzhiSet(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var huxi_yuzhi_xiao = $("#huxi_yuzhi_xiao").val();
		var huxi_yuzhi_da = $("#huxi_yuzhi_da").val();
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var status1 = 1;
		if(huxi_yuzhi_xiao == "" && huxi_yuzhi_da == ""){
			alert("请输入信息!");
        	return;
		}else{
			if(huxi_yuzhi_xiao != "" || huxi_yuzhi_da != ""){
				if(!reg1.test(huxi_yuzhi_xiao) || !reg1.test(huxi_yuzhi_da)){ 
        			alert("请输入符合规范的呼吸阈值!");
        			return;
    			}
			}
    		var yuzhi_value1 = $("#hide_huxi_value").val();
    		if(parseFloat(yuzhi_value1) < parseFloat(huxi_yuzhi_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(yuzhi_value1) > parseFloat(huxi_yuzhi_da)){
    			status1 = 2;
    		}
		}
		
    	var olderId="<%=request.getAttribute("olderId")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_CURRENT_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"physiologicalParameters\":[";
		if(huxi_yuzhi_xiao != null && huxi_yuzhi_xiao != "" ){
			reqmsg += "{\"type\":7,";
			reqmsg += "\"thresholdPerson\":\"" + name + "\",";
			reqmsg += "\"minValue\":" + huxi_yuzhi_xiao + ",";
			reqmsg += "\"maxValue\":" + huxi_yuzhi_da + ",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"thresholdTime\":\"" + getNowFormatDate() + "00" + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Currentslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 $("#close_yuzhi_huxi").click();
             	 alert("修改成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//血氧阈值配置
	function xueyang_yuzhiSet(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var xueyang_yuzhi_xiao = $("#xueyang_yuzhi_xiao").val();
		var xueyang_yuzhi_da = $("#xueyang_yuzhi_da").val();
		var reg1 = new RegExp("^(0|[1-9][0-9]*)$"); 
		var status1 = 1;
		if(xueyang_yuzhi_xiao == "" && xueyang_yuzhi_da == ""){
			alert("请输入信息!");
        	return;
		}else{
			if(xueyang_yuzhi_xiao != "" || xueyang_yuzhi_da != ""){
				if(!reg1.test(xueyang_yuzhi_xiao) || !reg1.test(xueyang_yuzhi_da)){ 
        			alert("请输入符合规范的血氧阈值!");
        			return;
    			}
			}
    		var yuzhi_value1 = $("#hide_xueyang_value").val();
    		if(parseFloat(yuzhi_value1) < parseFloat(xueyang_yuzhi_xiao)){
    			status1 = 3;
    		}
    		if(parseFloat(yuzhi_value1) > parseFloat(xueyang_yuzhi_da)){
    			status1 = 2;
    		}
		}
		
    	var olderId="<%=request.getAttribute("olderId")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_CURRENT_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"physiologicalParameters\":[";
		if(xueyang_yuzhi_xiao != null && xueyang_yuzhi_xiao != "" ){
			reqmsg += "{\"type\":8,";
			reqmsg += "\"thresholdPerson\":\"" + name + "\",";
			reqmsg += "\"minValue\":" + xueyang_yuzhi_xiao + ",";
			reqmsg += "\"maxValue\":" + xueyang_yuzhi_da + ",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"thresholdTime\":\"" + getNowFormatDate() + "00" + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Currentslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 $("#close_yuzhi_xueyang").click();
             	 alert("修改成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//骨密度阈值配置
	function gumidu_yuzhiSet(){
		var name = getLoginName();
		if(name == ""){
			alert("当前用户非员工");
			return;
		}
		var gumidu_yuzhi_xiao = $("#gumidu_yuzhi_xiao").val();
		var gumidu_yuzhi_da = $("#gumidu_yuzhi_da").val();
		var reg1 = new RegExp("^[0-9]+(.[0-9]{1,2})?$");  
		var status1 = 1;
		if(gumidu_yuzhi_xiao == "" || gumidu_yuzhi_xiao == null || gumidu_yuzhi_da == "" || gumidu_yuzhi_da == null){
			alert("请输入完整信息!");
        	return;
		}else{
			if(gumidu_yuzhi_xiao.substr(0,1) == "-"){
				var gumidu_yuzhi_xiao2 = gumidu_yuzhi_xiao.substr(1,gumidu_yuzhi_xiao.length-1);
				if(!reg1.test(gumidu_yuzhi_xiao2)){ 
        			alert("请输入符合规范的骨密度开始值!");
        			return;
    			}
			}else{
				if(!reg1.test(gumidu_yuzhi_xiao)){ 
        			alert("请输入符合规范的骨密度开始值!");
        			return;
    			}
			}
			if(gumidu_yuzhi_da.substr(0,1) == "-"){
				var gumidu_yuzhi_da2 = gumidu_yuzhi_da.substr(1,gumidu_yuzhi_da.length-1);
				if(!reg1.test(gumidu_yuzhi_da2)){ 
        			alert("请输入符合规范的骨密度结束值!");
        			return;
    			}
			}else{
				if(!reg1.test(gumidu_yuzhi_da)){ 
        			alert("请输入符合规范的骨密度结束值!");
        			return;
    			}
			}
    		var yuzhi_value1 = $("#hide_gumidu_value").val();
    		if(parseInt(yuzhi_value1) < parseInt(gumidu_yuzhi_xiao)){
    			status1 = 3;
    		}
    		if(parseInt(yuzhi_value1) > parseInt(gumidu_yuzhi_da)){
    			status1 = 2;
    		}
		}
		
    	var olderId="<%=request.getAttribute("olderId")%>";
    	
		var reqmsg="{'action':'ADD_PHYSIOLOGICAL_PARAMETERS_CURRENT_INFO_REQUEST','content':{";
		reqmsg += "\"olderId\":" + olderId + ",";
		reqmsg += "\"physiologicalParameters\":[";
		if(gumidu_yuzhi_xiao != null && gumidu_yuzhi_xiao != "" ){
			reqmsg += "{\"type\":9,";
			reqmsg += "\"thresholdPerson\":\"" + name + "\",";
			reqmsg += "\"minValue\":" + gumidu_yuzhi_xiao + ",";
			reqmsg += "\"maxValue\":" + gumidu_yuzhi_da + ",";
			reqmsg += "\"status\":" + status1 + ",";
			reqmsg += "\"thresholdTime\":\"" + getNowFormatDate() + "00" + "\"}";
		}
		reqmsg += "]";
		reqmsg += "}}";

		jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Currentslcs",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	 current_SLCS();
            	 $("#close_yuzhi_gumidu").click();
             	 alert("修改成功");
              }else{
                 alert("error " + data.result);
              }
          },
          error:function(){
	           alert("error");
          }
     	});
	}
	
	//清空弹出框值
	function qingkongAll(){
		//批量
		$("#xueya_addAll_ssy").val("");
		$("#xueya_addAll_szy").val("");
		$("#xueya_addAll_szy_time").val("");
		$("#xuetang_addAll_kf").val("");
		$("#xuetang_addAll_kf_time").val("");
		$("#xuetang_addAll_ch").val("");
		$("#xuetang_addAll_ch_time").val("");
		$("#maibo_addAll").val("");
		$("#maibo_addAll_time").val("");
		$("#tiwen_addAll").val("");
		$("#tiwen_addAll_time").val("");
		$("#huxi_addAll").val("");
		$("#huxi_addAll_time").val("");
		$("#xueyang_addAll").val("");
		$("#xueyang_addAll_time").val("");
		$("#gumidu_addAll").val("");
		$("#gumidu_addAll_time").val("");
		//血压
		$("#xueya_add_ssy").val("");
		$("#xueya_add_szy").val("");
		$("#xueya_add_szy_time").val("");
		$("#xueya_yuzhi_ssy_xiao").val("");
		$("#xueya_yuzhi_ssy_da").val("");
		$("#xueya_yuzhi_szy_xiao").val("");
		$("#xueya_yuzhi_szy_da").val("");
		//血糖
		$("#xuetang_add_kf").val("");
		$("#xuetang_add_kf_time").val("");
		$("#xuetang_add_ch").val("");
		$("#xuetang_add_ch_time").val("");
		$("#xuetang_yuzhi_kf_xiao").val("");
		$("#xuetang_yuzhi_kf_da").val("");
		$("#xuetang_yuzhi_ch_xiao").val("");
		$("#xuetang_yuzhi_ch_da").val("");
		//脉搏
		$("#maibo_add").val("");
		$("#maibo_add_time").val("");
		$("#maibo_yuzhi_xiao").val("");
		$("#maibo_yuzhi_da").val("");
		//体温
		$("#tiwen_add").val("");
		$("#tiwen_add_time").val("");
		$("#tiwen_yuzhi_xiao").val("");
		$("#tiwen_yuzhi_da").val("");
		//呼吸
		$("#huxi_add").val("");
		$("#huxi_add_time").val("");
		$("#huxi_yuzhi_xiao").val("");
		$("#huxi_yuzhi_da").val("");
		//血氧
		$("#xueyang_add").val("");
		$("#xueyang_add_time").val("");
		$("#xueyang_yuzhi_xiao").val("");
		$("#xueyang_yuzhi_da").val("");
		//骨密度
		$("#gumidu_add").val("");
		$("#gumidu_add_time").val("");
		$("#gumidu_yuzhi_xiao").val("");
		$("#gumidu_yuzhi_da").val("");
	}
	
	//一周前时间
	function lastweekTime(){
		var now = new Date();
		var date = new Date(now.getTime() - 7 * 24 * 3600 * 1000);
   	 	var month = date.getMonth() + 1;
    	var strDate = date.getDate();
    	var strHour = date.getHours();
    	var strMinutes = date.getMinutes();
    	var strSeconds = date.getSeconds();
    	
    	if (month >= 1 && month <= 9) {
    	    month = "0" + month;
    	}
    	if (strDate >= 0 && strDate <= 9) {
    	    strDate = "0" + strDate;
    	}
    	if (strHour >= 0 && strHour <= 9) {
    	    strHour = "0" + strHour;
    	}
    	if (strMinutes >= 0 && strMinutes <= 9) {
    	    strMinutes = "0" + strMinutes;
    	}
    	if (strSeconds >= 0 && strSeconds <= 9) {
    	    strSeconds = "0" + strSeconds;
    	}
    	var currentdate = date.getFullYear() + "" + month + "" + strDate + "" + strHour + "" + strMinutes + "" + strSeconds;
    	return currentdate;
	}
	
	//一月前时间
	function lastmonthTime(){
		var now = new Date();
		var date = new Date(now.getTime() - 30 * 24 * 3600 * 1000);
   	 	var month = date.getMonth() + 1;
    	var strDate = date.getDate();
    	var strHour = date.getHours();
    	var strMinutes = date.getMinutes();
    	var strSeconds = date.getSeconds();
    	
    	if (month >= 1 && month <= 9) {
    	    month = "0" + month;
    	}
    	if (strDate >= 0 && strDate <= 9) {
    	    strDate = "0" + strDate;
    	}
    	if (strHour >= 0 && strHour <= 9) {
    	    strHour = "0" + strHour;
    	}
    	if (strMinutes >= 0 && strMinutes <= 9) {
    	    strMinutes = "0" + strMinutes;
    	}
    	if (strSeconds >= 0 && strSeconds <= 9) {
    	    strSeconds = "0" + strSeconds;
    	}
    	var currentdate = date.getFullYear() + "" + month + "" + strDate + "" + strHour + "" + strMinutes + "" + strSeconds;
    	return currentdate;
	}
	
	//改变测量状态
	 function changeceliangStste(state){
     	var name = "";
     	switch (state)
		{
			case 1:
  			name = "正常";
  			break;
  			
			case 2:
  			name = "偏高";
  			break;

			case 3:
  			name = "偏低";
  			break;
  			
  			default:
  			break;
		}
		return name;
     }
     
     //日期转化成时间戳yyyy-mm-dd hh:mm:ss
      function changeTimeToChuo(stringTime){
     	var timestamp2 = Date.parse(new Date(stringTime));
		//2014-07-10 10:21:12的时间戳为：1404958872000
		return timestamp2 + 28800000;
     } 

     
	//血压列表
	function query_xueya(flag,pagenumber){
	var pagesize = $("#pageSizeSelector_xueya option:selected").val();
	var olderId="<%=request.getAttribute("olderId")%>";	
	var reqmsg="{'action':'QUERY_PHYSIOLOGICAL_PARAMETERS_HISTORY_LIST_REQUEST', 'order':[{'column':'createTime','type':'desc'}],'page':{'pageno':'" + pagenumber + "','pagesize':'" + pagesize + "'},'content':{";
	reqmsg += "\"olderId\":" + olderId + ",";
	reqmsg += "\"type_in\":\"1\",";
	var time = "";
	var leftTJ = "";
	if(flag == ""){
		leftTJ = $("#xueya_leftTJ").val();
	}else{
		leftTJ = flag;
		$("#xueya_leftTJ").val(flag);
	}
	if(leftTJ == "一周"){
		time = lastweekTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#xueya_leftTimeStart").val("");
		$("#xueya_leftTimeEnd").val("");
	}
	if(leftTJ == "一月"){
		time = lastmonthTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#xueya_leftTimeStart").val("");
		$("#xueya_leftTimeEnd").val("");
	}
	if(leftTJ == "自定义"){
		var starttime = $("#xueya_leftTimeStart").val();
		var endtime = $("#xueya_leftTimeEnd").val();
		if((starttime == null || starttime == "") && (endtime == null || endtime == "")){
			alert("请选择自定义时间");
			return;
		}else{
			if(starttime != null && starttime != ""){
				reqmsg += "\"createTime_ge\":\"" + starttime.split("-")[0] + starttime.split("-")[1] + starttime.split("-")[2] + "000000" + "\",";
			}
			if(endtime != null && endtime != ""){
				reqmsg += "\"createTime_le\":\"" + endtime.split("-")[0] + endtime.split("-")[1] + endtime.split("-")[2] + "235959" + "\",";
			}
		}
	}
	var xueya_rightZT = $("#xueya_rightZT").val();
	if(xueya_rightZT != null && xueya_rightZT != ""){
		reqmsg += "\"status_in\":\"" + xueya_rightZT + "\",";
		reqmsg += "\"status2_in\":\"" + xueya_rightZT + "\",";
	}
	
	reqmsg += "}}";

    jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs", 
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  changeData_xueya(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     });
}
function changeData_xueya(data){
	var htmlcode = "";
	if (data.content != null) {
		var ssy_zhexian = "[";
		var szy_zhexian = "[";
		var time = "";
		if(data.content.physiologicalParametersHistoryList != null && data.content.physiologicalParametersHistoryList.length >0){
		jQuery.each(data.content.physiologicalParametersHistoryList, function(i, item) {
			time = formateTime11(item.createTime);
			htmlcode += "<tr>";		
		    htmlcode += "<td>" + time + "</td>";	
		    htmlcode += "<td>" + item.value2 + "/" + item.value + "</td>";
		    htmlcode += "<td>" + changeceliangStste(item.status2) + "/" + changeceliangStste(item.status) + "</td>";
		    htmlcode += "<td>" + item.measurePerson + "</td>";
			htmlcode += "</tr>";
			ssy_zhexian += "[" + changeTimeToChuo(time) + "," + item.value + "],"
			szy_zhexian += "[" + changeTimeToChuo(time) + "," + item.value2 + "],"
		});
		}
		if(ssy_zhexian != "["){
			ssy_zhexian = ssy_zhexian.substr(0,ssy_zhexian.length-1);
		}
		if(szy_zhexian != "["){
			szy_zhexian = szy_zhexian.substr(0,szy_zhexian.length-1);
		}
		ssy_zhexian += "]";
		szy_zhexian += "]";
		$("#hide_xueya_ssy_zhexian").val(ssy_zhexian);
		$("#hide_xueya_szy_zhexian").val(szy_zhexian);
		if(data.content.tongji != null){
			$("#xueya_tongji_timeRange").html(data.content.tongji.timeRange);
			$("#xueya_tongji_totalCount").html(data.content.tongji.totalCount);
			$("#xueya_tongji_inCount").html(data.content.tongji.inCount);
			$("#xueya_tongji_nomalPercent").html(data.content.tongji.nomalPercent);
			$("#xueya_tongji_highPercent").html(data.content.tongji.highPercent);
			$("#xueya_tongji_lowPercent").html(data.content.tongji.lowPercent);
			$("#xueya_tongji_highValue").html(data.content.tongji.highValue1 + "</br>" + data.content.tongji.highValue2);
			$("#xueya_tongji_lowValue").html(data.content.tongji.lowValue1 + "</br>" + data.content.tongji.lowValue2);
		}
	}else{
		$("#hide_xueya_ssy_zhexian").val("[]");
		$("#hide_xueya_szy_zhexian").val("[]");
		$("#xueya_tongji_timeRange").html("");
		$("#xueya_tongji_totalCount").html("");
		$("#xueya_tongji_inCount").html("");
		$("#xueya_tongji_nomalPercent").html("");
		$("#xueya_tongji_highPercent").html("");
		$("#xueya_tongji_lowPercent").html("");
		$("#xueya_tongji_highValue").html("");
		$("#xueya_tongji_lowValue").html("");
	}
	xueya_zhexiantu();
	$("#datacontainer_xueya").html(htmlcode);
	if (data.page != null) {
		genaratePaginateHtml_xueya(data.page.pageno, data.page.pageCount);
	} else {
		genaratePaginateHtml_xueya(1, 1);
	}
}
/**
 * 生成分页信息
 * @method genaratePaginateHtml_xueya
 * @param {Number} currentpage 当前页
 * @param {Number} totalpage 总页数
 */
function genaratePaginateHtml_xueya(currentpage, totalpage, pagesize) {
	var htmlcode = "";
	
	//上一页
	if (currentpage > 1) {
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_xueya('','1')\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_xueya('','" + (currentpage - 1) + "')\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	} else {
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	}
	
	//具体页码
	if (totalpage <= 5) {
		for (var i = 1; i <= totalpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_xueya('','" + i + "')\">" + i + "</a></li>";
			}
		}
	} else {
		var startpage = currentpage;
		var endpage = currentpage;
		while (true) {
			if (endpage - startpage >= 4) {
				break;
			} else {
				if (startpage > 1) {
					startpage = startpage - 1;
				}
				if (endpage < totalpage) {
					endpage = endpage - (-1);
				}
			}
		}
		
		for (var i = startpage; i <= endpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_xueya('','" + i + "')\">" + i + "</a></li>";
			}
		}
	}
	
	//下一页
	if (totalpage > currentpage) {
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_xueya('','" + (parseInt(currentpage) + 1) + "')\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_xueya('','" + parseInt(totalpage) + "')\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	} else {
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	}
	$("#paginationArea_xueya").html(htmlcode);
}

	//血糖列表
	function query_xuetang(flag,pagenumber){
	var pagesize = $("#pageSizeSelector_xuetang option:selected").val();
	var olderId="<%=request.getAttribute("olderId")%>";	
	var reqmsg="{'action':'QUERY_PHYSIOLOGICAL_PARAMETERS_HISTORY_LIST_REQUEST','order':[{'column':'createTime','type':'desc'}],'page':{'pageno':'" + pagenumber + "','pagesize':'" + pagesize + "'},'content':{";
	reqmsg += "\"olderId\":" + olderId + ",";
	reqmsg += "\"type_in\":\"3,4\",";
	var time = "";
	var leftTJ = "";
	if(flag == ""){
		leftTJ = $("#xuetang_leftTJ").val();
	}else{
		leftTJ = flag;
		$("#xuetang_leftTJ").val(flag);
	}
	if(leftTJ == "一周"){
		time = lastweekTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#xuetang_leftTimeStart").val("");
		$("#xuetang_leftTimeEnd").val("");
	}
	if(leftTJ == "一月"){
		time = lastmonthTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#xuetang_leftTimeStart").val("");
		$("#xuetang_leftTimeEnd").val("");
	}
	if(leftTJ == "自定义"){
		var starttime = $("#xuetang_leftTimeStart").val();
		var endtime = $("#xuetang_leftTimeEnd").val();
		if((starttime == null || starttime == "") && (endtime == null || endtime == "")){
			alert("请选择自定义时间");
			return;
		}else{
			if(starttime != null && starttime != ""){
				reqmsg += "\"createTime_ge\":\"" + starttime.split("-")[0] + starttime.split("-")[1] + starttime.split("-")[2] + "000000" + "\",";
			}
			if(endtime != null && endtime != ""){
				reqmsg += "\"createTime_le\":\"" + endtime.split("-")[0] + endtime.split("-")[1] + endtime.split("-")[2] + "235959" + "\",";
			}
		}
	}
	var xuetang_rightZT = $("#xuetang_rightZT").val();
	if(xuetang_rightZT != null && xuetang_rightZT != ""){
		reqmsg += "\"status_in\":\"" + xuetang_rightZT + "\",";
	}
	
	reqmsg += "}}";

    jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs", 
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  changeData_xuetang(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     });
}
function changeData_xuetang(data){
	var htmlcode = "";
	if (data.content != null) {
		var kf_zhexian = "[";
		var ch_zhexian = "[";
		var time = "";
		if(data.content.physiologicalParametersHistoryList != null && data.content.physiologicalParametersHistoryList.length >0){
		jQuery.each(data.content.physiologicalParametersHistoryList, function(i, item) {
			time = formateTime11(item.createTime);
			htmlcode += "<tr>";		
		    htmlcode += "<td>" + time + "</td>";	
		    if(item.type == 3){
		    	 htmlcode += "<td>" + "空腹血糖  " + item.value + "</td>";
		    }
		    if(item.type == 4){
		    	 htmlcode += "<td>" + "餐后血糖  " + item.value + "</td>";
		    }
		   
		    htmlcode += "<td>" + changeceliangStste(item.status) + "</td>";
		    htmlcode += "<td>" + item.measurePerson + "</td>";
			htmlcode += "</tr>";
			if(item.type == "3"){
				kf_zhexian += "[" + changeTimeToChuo(time) + "," + item.value + "],";
			}
			if(item.type == "4"){
				ch_zhexian += "[" + changeTimeToChuo(time) + "," + item.value + "],";
			}
		});
		}
		if(kf_zhexian != "["){
			kf_zhexian = kf_zhexian.substr(0,kf_zhexian.length-1);
		}
		if(ch_zhexian != "["){
			ch_zhexian = ch_zhexian.substr(0,ch_zhexian.length-1);
		}
		kf_zhexian += "]";
		ch_zhexian += "]";
		$("#hide_xuetang_kf_zhexian").val(kf_zhexian);
		$("#hide_xuetang_ch_zhexian").val(ch_zhexian);
		if(data.content.tongji != null){
			$("#xuetang_tongji_timeRange").html(data.content.tongji.timeRange);
			$("#xuetang_tongji_totalCount").html(data.content.tongji.totalCount);
			$("#xuetang_tongji_inCount").html(data.content.tongji.inCount);
			$("#xuetang_tongji_nomalPercent").html(data.content.tongji.nomalPercent);
			$("#xuetang_tongji_highPercent").html(data.content.tongji.highPercent);
			$("#xuetang_tongji_lowPercent").html(data.content.tongji.lowPercent);
			$("#xuetang_tongji_highValue").html(data.content.tongji.highValue1 + "</br>" + data.content.tongji.highValue2);
			$("#xuetang_tongji_lowValue").html(data.content.tongji.lowValue1 + "</br>" + data.content.tongji.lowValue2);
		}
	}else{
		$("#hide_xuetang_kf_zhexian").val("[]");
		$("#hide_xuetang_ch_zhexian").val("[]");
		$("#xuetang_tongji_timeRange").html("");
		$("#xuetang_tongji_totalCount").html("");
		$("#xuetang_tongji_inCount").html("");
		$("#xuetang_tongji_nomalPercent").html("");
		$("#xuetang_tongji_highPercent").html("");
		$("#xuetang_tongji_lowPercent").html("");
		$("#xuetang_tongji_highValue").html("");
		$("#xuetang_tongji_lowValue").html("");
	}
	xuetang_zhexiantu();
	$("#datacontainer_xuetang").html(htmlcode);
	if (data.page != null) {
		genaratePaginateHtml_xuetang(data.page.pageno, data.page.pageCount);
	} else {
		genaratePaginateHtml_xuetang(1, 1);
	}
}
/**
 * 生成分页信息
 * @method genaratePaginateHtml_xuetang
 * @param {Number} currentpage 当前页
 * @param {Number} totalpage 总页数
 */
function genaratePaginateHtml_xuetang(currentpage, totalpage, pagesize) {
	var htmlcode = "";
	
	//上一页
	if (currentpage > 1) {
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_xuetang('','1')\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_xuetang('','" + (currentpage - 1) + "')\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	} else {
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	}
	
	//具体页码
	if (totalpage <= 5) {
		for (var i = 1; i <= totalpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_xuetang('','" + i + "')\">" + i + "</a></li>";
			}
		}
	} else {
		var startpage = currentpage;
		var endpage = currentpage;
		while (true) {
			if (endpage - startpage >= 4) {
				break;
			} else {
				if (startpage > 1) {
					startpage = startpage - 1;
				}
				if (endpage < totalpage) {
					endpage = endpage - (-1);
				}
			}
		}
		
		for (var i = startpage; i <= endpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_xuetang('','" + i + "')\">" + i + "</a></li>";
			}
		}
	}
	
	//下一页
	if (totalpage > currentpage) {
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_xuetang('','" + (parseInt(currentpage) + 1) + "')\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_xuetang('','" + parseInt(totalpage) + "')\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	} else {
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	}
	$("#paginationArea_xuetang").html(htmlcode);
}

	//脉搏列表
	function query_maibo(flag,pagenumber){
	var pagesize = $("#pageSizeSelector_maibo option:selected").val();
	var olderId="<%=request.getAttribute("olderId")%>";	
	var reqmsg="{'action':'QUERY_PHYSIOLOGICAL_PARAMETERS_HISTORY_LIST_REQUEST','order':[{'column':'createTime','type':'desc'}],'page':{'pageno':'" + pagenumber + "','pagesize':'" + pagesize + "'},'content':{";
	reqmsg += "\"olderId\":" + olderId + ",";
	reqmsg += "\"type_in\":\"5\",";
	var time = "";
	var leftTJ = "";
	if(flag == ""){
		leftTJ = $("#maibo_leftTJ").val();
	}else{
		leftTJ = flag;
		$("#maibo_leftTJ").val(flag);
	}
	if(leftTJ == "一周"){
		time = lastweekTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#maibo_leftTimeStart").val("");
		$("#maibo_leftTimeEnd").val("");
	}
	if(leftTJ == "一月"){
		time = lastmonthTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#maibo_leftTimeStart").val("");
		$("#maibo_leftTimeEnd").val("");
	}
	if(leftTJ == "自定义"){
		var starttime = $("#maibo_leftTimeStart").val();
		var endtime = $("#maibo_leftTimeEnd").val();
		if((starttime == null || starttime == "") && (endtime == null || endtime == "")){
			alert("请选择自定义时间");
			return;
		}else{
			if(starttime != null && starttime != ""){
				reqmsg += "\"createTime_ge\":\"" + starttime.split("-")[0] + starttime.split("-")[1] + starttime.split("-")[2] + "000000" + "\",";
			}
			if(endtime != null && endtime != ""){
				reqmsg += "\"createTime_le\":\"" + endtime.split("-")[0] + endtime.split("-")[1] + endtime.split("-")[2] + "235959" + "\",";
			}
		}
	}
	var maibo_rightZT = $("#maibo_rightZT").val();
	if(maibo_rightZT != null && maibo_rightZT != ""){
		reqmsg += "\"status_in\":\"" + maibo_rightZT + "\",";
	}
	
	reqmsg += "}}";

    jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs", 
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  changeData_maibo(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     });
}
function changeData_maibo(data){
	var htmlcode = "";
	if (data.content != null) {
		var maibo_zhexian = "[";
		var time = "";
		if(data.content.physiologicalParametersHistoryList != null && data.content.physiologicalParametersHistoryList.length >0){
		jQuery.each(data.content.physiologicalParametersHistoryList, function(i, item) {
			time = formateTime11(item.createTime);
			htmlcode += "<tr>";		
		    htmlcode += "<td>" + time + "</td>";	
		    htmlcode += "<td>" + item.value + "</td>";
		    htmlcode += "<td>" + changeceliangStste(item.status) + "</td>";
		    htmlcode += "<td>" + item.measurePerson + "</td>";
			htmlcode += "</tr>";
			maibo_zhexian += "[" + changeTimeToChuo(time) + "," + item.value + "],";
		});
		}
		if(maibo_zhexian != "["){
			maibo_zhexian = maibo_zhexian.substr(0,maibo_zhexian.length-1);
		}
		maibo_zhexian += "]";
		$("#hide_maibo_zhexian").val(maibo_zhexian);
		if(data.content.tongji != null){
			$("#maibo_tongji_timeRange").html(data.content.tongji.timeRange);
			$("#maibo_tongji_totalCount").html(data.content.tongji.totalCount);
			$("#maibo_tongji_inCount").html(data.content.tongji.inCount);
			$("#maibo_tongji_nomalPercent").html(data.content.tongji.nomalPercent);
			$("#maibo_tongji_highPercent").html(data.content.tongji.highPercent);
			$("#maibo_tongji_lowPercent").html(data.content.tongji.lowPercent);
			$("#maibo_tongji_highValue").html(data.content.tongji.highValue1);
			$("#maibo_tongji_lowValue").html(data.content.tongji.lowValue1);
		}
	}else{
		$("#hide_maibo_zhexian").val("[]");
		$("#maibo_tongji_timeRange").html("");
		$("#maibo_tongji_totalCount").html("");
		$("#maibo_tongji_inCount").html("");
		$("#maibo_tongji_nomalPercent").html("");
		$("#maibo_tongji_highPercent").html("");
		$("#maibo_tongji_lowPercent").html("");
		$("#maibo_tongji_highValue").html("");
		$("#maibo_tongji_lowValue").html("");
	}
	maibo_zhexiantu();
	$("#datacontainer_maibo").html(htmlcode);
	if (data.page != null) {
		genaratePaginateHtml_maibo(data.page.pageno, data.page.pageCount);
	} else {
		genaratePaginateHtml_maibo(1, 1);
	}
}
/**
 * 生成分页信息
 * @method genaratePaginateHtml_maibo
 * @param {Number} currentpage 当前页
 * @param {Number} totalpage 总页数
 */
function genaratePaginateHtml_maibo(currentpage, totalpage, pagesize) {
	var htmlcode = "";
	
	//上一页
	if (currentpage > 1) {
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_maibo('','1')\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_maibo('','" + (currentpage - 1) + "')\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	} else {
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	}
	
	//具体页码
	if (totalpage <= 5) {
		for (var i = 1; i <= totalpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_maibo('','" + i + "')\">" + i + "</a></li>";
			}
		}
	} else {
		var startpage = currentpage;
		var endpage = currentpage;
		while (true) {
			if (endpage - startpage >= 4) {
				break;
			} else {
				if (startpage > 1) {
					startpage = startpage - 1;
				}
				if (endpage < totalpage) {
					endpage = endpage - (-1);
				}
			}
		}
		
		for (var i = startpage; i <= endpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_maibo('','" + i + "')\">" + i + "</a></li>";
			}
		}
	}
	
	//下一页
	if (totalpage > currentpage) {
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_maibo('','" + (parseInt(currentpage) + 1) + "')\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_maibo('','" + parseInt(totalpage) + "')\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	} else {
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	}
	$("#paginationArea_maibo").html(htmlcode);
}

	//体温列表
	function query_tiwen(flag,pagenumber){
	var pagesize = $("#pageSizeSelector_tiwen option:selected").val();
	var olderId="<%=request.getAttribute("olderId")%>";	
	var reqmsg="{'action':'QUERY_PHYSIOLOGICAL_PARAMETERS_HISTORY_LIST_REQUEST','order':[{'column':'createTime','type':'desc'}],'page':{'pageno':'" + pagenumber + "','pagesize':'" + pagesize + "'},'content':{";
	reqmsg += "\"olderId\":" + olderId + ",";
	reqmsg += "\"type_in\":\"6\",";
	var time = "";
	var leftTJ = "";
	if(flag == ""){
		leftTJ = $("#tiwen_leftTJ").val();
	}else{
		leftTJ = flag;
		$("#tiwen_leftTJ").val(flag);
	}
	if(leftTJ == "一周"){
		time = lastweekTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#tiwen_leftTimeStart").val("");
		$("#tiwen_leftTimeEnd").val("");
	}
	if(leftTJ == "一月"){
		time = lastmonthTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#tiwen_leftTimeStart").val("");
		$("#tiwen_leftTimeEnd").val("");
	}
	if(leftTJ == "自定义"){
		var starttime = $("#tiwen_leftTimeStart").val();
		var endtime = $("#tiwen_leftTimeEnd").val();
		if((starttime == null || starttime == "") && (endtime == null || endtime == "")){
			alert("请选择自定义时间");
			return;
		}else{
			if(starttime != null && starttime != ""){
				reqmsg += "\"createTime_ge\":\"" + starttime.split("-")[0] + starttime.split("-")[1] + starttime.split("-")[2] + "000000" + "\",";
			}
			if(endtime != null && endtime != ""){
				reqmsg += "\"createTime_le\":\"" + endtime.split("-")[0] + endtime.split("-")[1] + endtime.split("-")[2] + "235959" + "\",";
			}
		}
	}
	var tiwen_rightZT = $("#tiwen_rightZT").val();
	if(tiwen_rightZT != null && tiwen_rightZT != ""){
		reqmsg += "\"status_in\":\"" + tiwen_rightZT + "\",";
	}
	
	reqmsg += "}}";

    jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs", 
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  changeData_tiwen(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     });
}
function changeData_tiwen(data){
	var htmlcode = "";
	if (data.content != null) {
		var tiwen_zhexian = "[";
		var time = "";
		if(data.content.physiologicalParametersHistoryList != null && data.content.physiologicalParametersHistoryList.length >0){
		jQuery.each(data.content.physiologicalParametersHistoryList, function(i, item) {
			time = formateTime11(item.createTime);
			htmlcode += "<tr>";		
		    htmlcode += "<td>" + time + "</td>";	
		    htmlcode += "<td>" + item.value + "</td>";
		    htmlcode += "<td>" + changeceliangStste(item.status) + "</td>";
		    htmlcode += "<td>" + item.measurePerson + "</td>";
			htmlcode += "</tr>";
			tiwen_zhexian += "[" + changeTimeToChuo(time) + "," + item.value + "],";
		});
		}
		if(tiwen_zhexian != "["){
			tiwen_zhexian = tiwen_zhexian.substr(0,tiwen_zhexian.length-1);
		}
		tiwen_zhexian += "]";
		$("#hide_tiwen_zhexian").val(tiwen_zhexian);
		if(data.content.tongji != null){
			$("#tiwen_tongji_timeRange").html(data.content.tongji.timeRange);
			$("#tiwen_tongji_totalCount").html(data.content.tongji.totalCount);
			$("#tiwen_tongji_inCount").html(data.content.tongji.inCount);
			$("#tiwen_tongji_nomalPercent").html(data.content.tongji.nomalPercent);
			$("#tiwen_tongji_highPercent").html(data.content.tongji.highPercent);
			$("#tiwen_tongji_lowPercent").html(data.content.tongji.lowPercent);
			$("#tiwen_tongji_highValue").html(data.content.tongji.highValue1);
			$("#tiwen_tongji_lowValue").html(data.content.tongji.lowValue1);
		}
	}else{
		$("#hide_tiwen_zhexian").val("[]");
		$("#tiwen_tongji_timeRange").html("");
		$("#tiwen_tongji_totalCount").html("");
		$("#tiwen_tongji_inCount").html("");
		$("#tiwen_tongji_nomalPercent").html("");
		$("#tiwen_tongji_highPercent").html("");
		$("#tiwen_tongji_lowPercent").html("");
		$("#tiwen_tongji_highValue").html("");
		$("#tiwen_tongji_lowValue").html("");
	}
	tiwen_zhexiantu();
	$("#datacontainer_tiwen").html(htmlcode);
	if (data.page != null) {
		genaratePaginateHtml_tiwen(data.page.pageno, data.page.pageCount);
	} else {
		genaratePaginateHtml_tiwen(1, 1);
	}
}
/**
 * 生成分页信息
 * @method genaratePaginateHtml_tiwen
 * @param {Number} currentpage 当前页
 * @param {Number} totalpage 总页数
 */
function genaratePaginateHtml_tiwen(currentpage, totalpage, pagesize) {
	var htmlcode = "";
	
	//上一页
	if (currentpage > 1) {
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_tiwen('','1')\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_tiwen('','" + (currentpage - 1) + "')\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	} else {
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	}
	
	//具体页码
	if (totalpage <= 5) {
		for (var i = 1; i <= totalpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_tiwen('','" + i + "')\">" + i + "</a></li>";
			}
		}
	} else {
		var startpage = currentpage;
		var endpage = currentpage;
		while (true) {
			if (endpage - startpage >= 4) {
				break;
			} else {
				if (startpage > 1) {
					startpage = startpage - 1;
				}
				if (endpage < totalpage) {
					endpage = endpage - (-1);
				}
			}
		}
		
		for (var i = startpage; i <= endpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_tiwen('','" + i + "')\">" + i + "</a></li>";
			}
		}
	}
	
	//下一页
	if (totalpage > currentpage) {
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_tiwen('','" + (parseInt(currentpage) + 1) + "')\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_tiwen('','" + parseInt(totalpage) + "')\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	} else {
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	}
	$("#paginationArea_tiwen").html(htmlcode);
}

	//呼吸列表
	function query_huxi(flag,pagenumber){
	var pagesize = $("#pageSizeSelector_huxi option:selected").val();
	var olderId="<%=request.getAttribute("olderId")%>";	
	var reqmsg="{'action':'QUERY_PHYSIOLOGICAL_PARAMETERS_HISTORY_LIST_REQUEST','order':[{'column':'createTime','type':'desc'}],'page':{'pageno':'" + pagenumber + "','pagesize':'" + pagesize + "'},'content':{";
	reqmsg += "\"olderId\":" + olderId + ",";
	reqmsg += "\"type_in\":\"7\",";
	var time = "";
	var leftTJ = "";
	if(flag == ""){
		leftTJ = $("#huxi_leftTJ").val();
	}else{
		leftTJ = flag;
		$("#huxi_leftTJ").val(flag);
	}
	if(leftTJ == "一周"){
		time = lastweekTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#huxi_leftTimeStart").val("");
		$("#huxi_leftTimeEnd").val("");
	}
	if(leftTJ == "一月"){
		time = lastmonthTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#huxi_leftTimeStart").val("");
		$("#huxi_leftTimeEnd").val("");
	}
	if(leftTJ == "自定义"){
		var starttime = $("#huxi_leftTimeStart").val();
		var endtime = $("#huxi_leftTimeEnd").val();
		if((starttime == null || starttime == "") && (endtime == null || endtime == "")){
			alert("请选择自定义时间");
			return;
		}else{
			if(starttime != null && starttime != ""){
				reqmsg += "\"createTime_ge\":\"" + starttime.split("-")[0] + starttime.split("-")[1] + starttime.split("-")[2] + "000000" + "\",";
			}
			if(endtime != null && endtime != ""){
				reqmsg += "\"createTime_le\":\"" + endtime.split("-")[0] + endtime.split("-")[1] + endtime.split("-")[2] + "235959" + "\",";
			}
		}
	}
	var huxi_rightZT = $("#huxi_rightZT").val();
	if(huxi_rightZT != null && huxi_rightZT != ""){
		reqmsg += "\"status_in\":\"" + huxi_rightZT + "\",";
	}
	
	reqmsg += "}}";

    jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs", 
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  changeData_huxi(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     });
}
function changeData_huxi(data){
	var htmlcode = "";
	if (data.content != null) {
		var huxi_zhexian = "[";
		var time = "";
		if(data.content.physiologicalParametersHistoryList != null && data.content.physiologicalParametersHistoryList.length >0){
		jQuery.each(data.content.physiologicalParametersHistoryList, function(i, item) {
			time = formateTime11(item.createTime);
			htmlcode += "<tr>";		
		    htmlcode += "<td>" + time + "</td>";	
		    htmlcode += "<td>" + item.value + "</td>";
		    htmlcode += "<td>" + changeceliangStste(item.status) + "</td>";
		    htmlcode += "<td>" + item.measurePerson + "</td>";
			htmlcode += "</tr>";
			huxi_zhexian += "[" + changeTimeToChuo(time) + "," + item.value + "],";
		});
		}
		if(huxi_zhexian != "["){
			huxi_zhexian = huxi_zhexian.substr(0,huxi_zhexian.length-1);
		}
		huxi_zhexian += "]";
		$("#hide_huxi_zhexian").val(huxi_zhexian);
		if(data.content.tongji != null){
			$("#huxi_tongji_timeRange").html(data.content.tongji.timeRange);
			$("#huxi_tongji_totalCount").html(data.content.tongji.totalCount);
			$("#huxi_tongji_inCount").html(data.content.tongji.inCount);
			$("#huxi_tongji_nomalPercent").html(data.content.tongji.nomalPercent);
			$("#huxi_tongji_highPercent").html(data.content.tongji.highPercent);
			$("#huxi_tongji_lowPercent").html(data.content.tongji.lowPercent);
			$("#huxi_tongji_highValue").html(data.content.tongji.highValue1);
			$("#huxi_tongji_lowValue").html(data.content.tongji.lowValue1);
		}
	}else{
		$("#hide_huxi_zhexian").val("[]");
		$("#huxi_tongji_timeRange").html("");
		$("#huxi_tongji_totalCount").html("");
		$("#huxi_tongji_inCount").html("");
		$("#huxi_tongji_nomalPercent").html("");
		$("#huxi_tongji_highPercent").html("");
		$("#huxi_tongji_lowPercent").html("");
		$("#huxi_tongji_highValue").html("");
		$("#huxi_tongji_lowValue").html("");
	}
	huxi_zhexiantu();
	$("#datacontainer_huxi").html(htmlcode);
	if (data.page != null) {
		genaratePaginateHtml_huxi(data.page.pageno, data.page.pageCount);
	} else {
		genaratePaginateHtml_huxi(1, 1);
	}
}
/**
 * 生成分页信息
 * @method genaratePaginateHtml_huxi
 * @param {Number} currentpage 当前页
 * @param {Number} totalpage 总页数
 */
function genaratePaginateHtml_huxi(currentpage, totalpage, pagesize) {
	var htmlcode = "";

	//上一页
	if (currentpage > 1) {
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_huxi('','1')\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_huxi('','" + (currentpage - 1) + "')\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	} else {
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	}
	
	//具体页码
	if (totalpage <= 5) {
		for (var i = 1; i <= totalpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_huxi('','" + i + "')\">" + i + "</a></li>";
			}
		}
	} else {
		var startpage = currentpage;
		var endpage = currentpage;
		while (true) {
			if (endpage - startpage >= 4) {
				break;
			} else {
				if (startpage > 1) {
					startpage = startpage - 1;
				}
				if (endpage < totalpage) {
					endpage = endpage - (-1);
				}
			}
		}
		
		for (var i = startpage; i <= endpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_huxi('','" + i + "')\">" + i + "</a></li>";
			}
		}
	}
	
	//下一页
	if (totalpage > currentpage) {
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_huxi('','" + (parseInt(currentpage) + 1) + "')\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_huxi('','" + parseInt(totalpage) + "')\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	} else {
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	}
	$("#paginationArea_huxi").html(htmlcode);
}

	//血氧列表
	function query_xueyang(flag,pagenumber){
	var pagesize = $("#pageSizeSelector_xueyang option:selected").val();
	var olderId="<%=request.getAttribute("olderId")%>";	
	var reqmsg="{'action':'QUERY_PHYSIOLOGICAL_PARAMETERS_HISTORY_LIST_REQUEST','order':[{'column':'createTime','type':'desc'}],'page':{'pageno':'" + pagenumber + "','pagesize':'" + pagesize + "'},'content':{";
	reqmsg += "\"olderId\":" + olderId + ",";
	reqmsg += "\"type_in\":\"8\",";
	var time = "";
	var leftTJ = "";
	if(flag == ""){
		leftTJ = $("#xueyang_leftTJ").val();
	}else{
		leftTJ = flag;
		$("#xueyang_leftTJ").val(flag);
	}
	if(leftTJ == "一周"){
		time = lastweekTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#xueyang_leftTimeStart").val("");
		$("#xueyang_leftTimeEnd").val("");
	}
	if(leftTJ == "一月"){
		time = lastmonthTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#xueyang_leftTimeStart").val("");
		$("#xueyang_leftTimeEnd").val("");
	}
	if(leftTJ == "自定义"){
		var starttime = $("#xueyang_leftTimeStart").val();
		var endtime = $("#xueyang_leftTimeEnd").val();
		if((starttime == null || starttime == "") && (endtime == null || endtime == "")){
			alert("请选择自定义时间");
			return;
		}else{
			if(starttime != null && starttime != ""){
				reqmsg += "\"createTime_ge\":\"" + starttime.split("-")[0] + starttime.split("-")[1] + starttime.split("-")[2] + "000000" + "\",";
			}
			if(endtime != null && endtime != ""){
				reqmsg += "\"createTime_le\":\"" + endtime.split("-")[0] + endtime.split("-")[1] + endtime.split("-")[2] + "235959" + "\",";
			}
		}
	}
	var xueyang_rightZT = $("#xueyang_rightZT").val();
	if(xueyang_rightZT != null && xueyang_rightZT != ""){
		reqmsg += "\"status_in\":\"" + xueyang_rightZT + "\",";
	}
	
	reqmsg += "}}";

    jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs", 
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  changeData_xueyang(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     });
}
function changeData_xueyang(data){
	var htmlcode = "";
	if (data.content != null) {
		var xueyang_zhexian = "[";
		var time = "";
		if(data.content.physiologicalParametersHistoryList != null && data.content.physiologicalParametersHistoryList.length >0){
		jQuery.each(data.content.physiologicalParametersHistoryList, function(i, item) {
			time = formateTime11(item.createTime);
			htmlcode += "<tr>";		
		    htmlcode += "<td>" + time + "</td>";	
		    htmlcode += "<td>" + item.value + "</td>";
		    htmlcode += "<td>" + changeceliangStste(item.status) + "</td>";
		    htmlcode += "<td>" + item.measurePerson + "</td>";
			htmlcode += "</tr>";
			xueyang_zhexian += "[" + changeTimeToChuo(time) + "," + item.value + "],";
		});
		}
		if(xueyang_zhexian != "["){
			xueyang_zhexian = xueyang_zhexian.substr(0,xueyang_zhexian.length-1);
		}
		xueyang_zhexian += "]";
		$("#hide_xueyang_zhexian").val(xueyang_zhexian);
		if(data.content.tongji != null){
			$("#xueyang_tongji_timeRange").html(data.content.tongji.timeRange);
			$("#xueyang_tongji_totalCount").html(data.content.tongji.totalCount);
			$("#xueyang_tongji_inCount").html(data.content.tongji.inCount);
			$("#xueyang_tongji_nomalPercent").html(data.content.tongji.nomalPercent);
			$("#xueyang_tongji_highPercent").html(data.content.tongji.highPercent);
			$("#xueyang_tongji_lowPercent").html(data.content.tongji.lowPercent);
			$("#xueyang_tongji_highValue").html(data.content.tongji.highValue1);
			$("#xueyang_tongji_lowValue").html(data.content.tongji.lowValue1);
		}
	}else{
		$("#hide_xueyang_zhexian").val("[]");
		$("#xueyang_tongji_timeRange").html("");
		$("#xueyang_tongji_totalCount").html("");
		$("#xueyang_tongji_inCount").html("");
		$("#xueyang_tongji_nomalPercent").html("");
		$("#xueyang_tongji_highPercent").html("");
		$("#xueyang_tongji_lowPercent").html("");
		$("#xueyang_tongji_highValue").html("");
		$("#xueyang_tongji_lowValue").html("");
	}
	xueyang_zhexiantu();
	$("#datacontainer_xueyang").html(htmlcode);
	if (data.page != null) {
		genaratePaginateHtml_xueyang(data.page.pageno, data.page.pageCount);
	} else {
		genaratePaginateHtml_xueyang(1, 1);
	}
}
/**
 * 生成分页信息
 * @method genaratePaginateHtml_xueyang
 * @param {Number} currentpage 当前页
 * @param {Number} totalpage 总页数
 */
function genaratePaginateHtml_xueyang(currentpage, totalpage, pagesize) {
	var htmlcode = "";

	//上一页
	if (currentpage > 1) {
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_xueyang('','1')\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_xueyang('','" + (currentpage - 1) + "')\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	} else {
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	}
	
	//具体页码
	if (totalpage <= 5) {
		for (var i = 1; i <= totalpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_xueyang('','" + i + "')\">" + i + "</a></li>";
			}
		}
	} else {
		var startpage = currentpage;
		var endpage = currentpage;
		while (true) {
			if (endpage - startpage >= 4) {
				break;
			} else {
				if (startpage > 1) {
					startpage = startpage - 1;
				}
				if (endpage < totalpage) {
					endpage = endpage - (-1);
				}
			}
		}
		
		for (var i = startpage; i <= endpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_xueyang('','" + i + "')\">" + i + "</a></li>";
			}
		}
	}
	
	//下一页
	if (totalpage > currentpage) {
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_xueyang('','" + (parseInt(currentpage) + 1) + "')\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_xueyang('','" + parseInt(totalpage) + "')\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	} else {
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	}
	$("#paginationArea_xueyang").html(htmlcode);
}

	//骨密度列表
	function query_gumidu(flag,pagenumber){
	var pagesize = $("#pageSizeSelector_gumidu option:selected").val();
	var olderId="<%=request.getAttribute("olderId")%>";	
	var reqmsg="{'action':'QUERY_PHYSIOLOGICAL_PARAMETERS_HISTORY_LIST_REQUEST','order':[{'column':'createTime','type':'desc'}],'page':{'pageno':'" + pagenumber + "','pagesize':'" + pagesize + "'},'content':{";
	reqmsg += "\"olderId\":" + olderId + ",";
	reqmsg += "\"type_in\":\"9\",";
	var time = "";
	var leftTJ = "";
	if(flag == ""){
		leftTJ = $("#gumidu_leftTJ").val();
	}else{
		leftTJ = flag;
		$("#gumidu_leftTJ").val(flag);
	}
	if(leftTJ == "一周"){
		time = lastweekTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#gumidu_leftTimeStart").val("");
		$("#gumidu_leftTimeEnd").val("");
	}
	if(leftTJ == "一月"){
		time = lastmonthTime();
		reqmsg += "\"createTime_ge\":\"" + time + "\",";
		$("#gumidu_leftTimeStart").val("");
		$("#gumidu_leftTimeEnd").val("");
	}
	if(leftTJ == "自定义"){
		var starttime = $("#gumidu_leftTimeStart").val();
		var endtime = $("#gumidu_leftTimeEnd").val();
		if((starttime == null || starttime == "") && (endtime == null || endtime == "")){
			alert("请选择自定义时间");
			return;
		}else{
			if(starttime != null && starttime != ""){
				reqmsg += "\"createTime_ge\":\"" + starttime.split("-")[0] + starttime.split("-")[1] + starttime.split("-")[2] + "000000" + "\",";
			}
			if(endtime != null && endtime != ""){
				reqmsg += "\"createTime_le\":\"" + endtime.split("-")[0] + endtime.split("-")[1] + endtime.split("-")[2] + "235959" + "\",";
			}
		}
	}
	var gumidu_rightZT = $("#gumidu_rightZT").val();
	if(gumidu_rightZT != null && gumidu_rightZT != ""){
		reqmsg += "\"status_in\":\"" + gumidu_rightZT + "\",";
	}
	
	reqmsg += "}}";

    jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler_Historyslcs", 
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  changeData_gumidu(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
     });
}
function changeData_gumidu(data){
	var htmlcode = "";
	if (data.content != null) {
		var gumidu_zhexian = "[";
		var time = "";
		if(data.content.physiologicalParametersHistoryList != null && data.content.physiologicalParametersHistoryList.length >0){
		jQuery.each(data.content.physiologicalParametersHistoryList, function(i, item) {
			time = formateTime11(item.createTime);
			htmlcode += "<tr>";		
		    htmlcode += "<td>" + time + "</td>";	
		    htmlcode += "<td>" + item.value + "</td>";
		    htmlcode += "<td>" + changeceliangStste(item.status) + "</td>";
		    htmlcode += "<td>" + item.measurePerson + "</td>";
			htmlcode += "</tr>";
			gumidu_zhexian += "[" + changeTimeToChuo(time) + "," + item.value + "],";
		});
		}
		if(gumidu_zhexian != "["){
			gumidu_zhexian = gumidu_zhexian.substr(0,gumidu_zhexian.length-1);
		}
		gumidu_zhexian += "]";
		$("#hide_gumidu_zhexian").val(gumidu_zhexian);
		if(data.content.tongji != null){
			$("#gumidu_tongji_timeRange").html(data.content.tongji.timeRange);
			$("#gumidu_tongji_totalCount").html(data.content.tongji.totalCount);
			$("#gumidu_tongji_inCount").html(data.content.tongji.inCount);
			$("#gumidu_tongji_nomalPercent").html(data.content.tongji.nomalPercent);
			$("#gumidu_tongji_highPercent").html(data.content.tongji.highPercent);
			$("#gumidu_tongji_lowPercent").html(data.content.tongji.lowPercent);
			$("#gumidu_tongji_highValue").html(data.content.tongji.highValue1);
			$("#gumidu_tongji_lowValue").html(data.content.tongji.lowValue1);
		}
	}else{
		$("#hide_gumidu_zhexian").val("[]");
		$("#gumidu_tongji_timeRange").html("");
		$("#gumidu_tongji_totalCount").html("");
		$("#gumidu_tongji_inCount").html("");
		$("#gumidu_tongji_nomalPercent").html("");
		$("#gumidu_tongji_highPercent").html("");
		$("#gumidu_tongji_lowPercent").html("");
		$("#gumidu_tongji_highValue").html("");
		$("#gumidu_tongji_lowValue").html("");
	}
	gumidu_zhexiantu();
	$("#datacontainer_gumidu").html(htmlcode);
	if (data.page != null) {
		genaratePaginateHtml_gumidu(data.page.pageno, data.page.pageCount);
	} else {
		genaratePaginateHtml_gumidu(1, 1);
	}
}
/**
 * 生成分页信息
 * @method genaratePaginateHtml_gumidu
 * @param {Number} currentpage 当前页
 * @param {Number} totalpage 总页数
 */
function genaratePaginateHtml_gumidu(currentpage, totalpage, pagesize) {
	var htmlcode = "";

	//上一页
	if (currentpage > 1) {
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_gumidu('','1')\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre\"><a href=\"###\" onclick=\"query_gumidu('','" + (currentpage - 1) + "')\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	} else {
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;首页</a></li>";
		htmlcode += "<li class=\"pre disabled\"><a href=\"###\"><span class=\"fa fa-angle-left\"></span>&nbsp;上一页</a></li>";
	}
	
	//具体页码
	if (totalpage <= 5) {
		for (var i = 1; i <= totalpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_gumidu('','" + i + "')\">" + i + "</a></li>";
			}
		}
	} else {
		var startpage = currentpage;
		var endpage = currentpage;
		while (true) {
			if (endpage - startpage >= 4) {
				break;
			} else {
				if (startpage > 1) {
					startpage = startpage - 1;
				}
				if (endpage < totalpage) {
					endpage = endpage - (-1);
				}
			}
		}
		
		for (var i = startpage; i <= endpage; i++) {
			if (currentpage == i) {
				htmlcode += "<li class=\"active\"><a href=\"###\">" + i + "</a></li>";
			} else {
				htmlcode += "<li><a href=\"###\" onclick=\"query_gumidu('','" + i + "')\">" + i + "</a></li>";
			}
		}
	}
	
	//下一页
	if (totalpage > currentpage) {
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_gumidu('','" + (parseInt(currentpage) + 1) + "')\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next\"><a href=\"###\" onclick=\"query_gumidu('','" + parseInt(totalpage) + "')\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	} else {
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">下一页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
		htmlcode += "<li class=\"next disabled\"><a href=\"###\">末页&nbsp;<span class=\"fa fa-angle-right\"></span></a></li>";
	}
	$("#paginationArea_gumidu").html(htmlcode);
}

//血压折线图
function xueya_zhexiantu(){
    var datas1 = document.getElementById("hide_xueya_ssy_zhexian").value;
    var datas2 = document.getElementById("hide_xueya_szy_zhexian").value; 
    datas1 = JSON.parse(datas1);
    datas2 = JSON.parse(datas2);

    var yuzhi1_xiao = $("#hide_xueya_ssy_xiao").val();
	var yuzhi1_da = $("#hide_xueya_ssy_da").val();
	var yuzhi2_xiao = $("#hide_xueya_szy_xiao").val();
	var yuzhi2_da = $("#hide_xueya_szy_da").val();
 
	$('#xueya_zhexian').highcharts({
      chart: {
          type: 'spline',
          zoomType: 'xy'
      },
      title: {
          text: ''
      },
      credits: {
            enabled: false
        },
      xAxis: {
          type: 'datetime',
          endOnTick: true,
          showLastLabel: false,

          dateTimeLabelFormats: {
          millisecond: '%Y-%m-%d %H:%M',
          	millisecond: '%Y-%m-%d %H:%M',
			second: '%Y-%m-%d %H:%M',  
            minute: '%Y-%m-%d %H:%M',  
            hour: '%Y-%m-%d %H:%M',  
            day: '%Y-%m-%d',  
            week: '%Y-%m-%d',  
            month: '%Y-%m-%d',  
            year: '%Y-%m-%d'
			}
      },
      yAxis: {
          title: {
              text: '血压(mmHg)'
          },  
          plotBands: [{ // 
              from: yuzhi2_xiao,
              to: yuzhi2_da,
              color: 'rgba(68, 170, 213, 0.1)',
              label: {
                  text: '正常舒张压参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }, { // Fresh breeze
              from: yuzhi1_xiao,
              to: yuzhi1_da,
              color: 'rgba(68, 70, 213, 0.1)',
              label: {
                  text: '正常收缩压参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }]
      },
      tooltip: {
    	  formatter:function(){ 
          	var s = Highcharts.dateFormat('%Y-%m-%d %H:%M', this.x);
          	$.each(this.points, function(){
          		s += '<br/><span style="color:'+this.series.color+'">' + this.series.name + ': <b>' + this.y +'</b> mmHg</span>';
          	}); 
          	return s;          
          },
            crosshairs: true,
            shared: true,
            
      },
       plotOptions: {
          spline: {
              lineWidth: 3,
              states: {
                  hover: {
                      lineWidth: 4
                  }
              },
              marker: {
                  enabled: true
              },
              //pointInterval: 1000, // one hour
             // pointStart: Date.UTC(2009, 9, 6, 0, 0, 0)
          }
      },
      series: [{
          name: '收缩压',
          data: datas1

      }, {
          name: '舒张压',
          data: datas2
      }]
      
  });
}

//血糖折线图
function xuetang_zhexiantu(){
    var datas1 = document.getElementById("hide_xuetang_kf_zhexian").value; 
    var datas2 = document.getElementById("hide_xuetang_ch_zhexian").value; 
    datas1 = JSON.parse(datas1);
    datas2 = JSON.parse(datas2);

	var yuzhi1_xiao = $("#hide_xuetang_kf_xiao").val();
    var yuzhi1_da = $("#hide_xuetang_kf_da").val();
	var yuzhi2_xiao = $("#hide_xuetang_ch_xiao").val();
    var yuzhi2_da = $("#hide_xuetang_ch_da").val();
 
	$('#xuetang_zhexian').highcharts({
      chart: {
          type: 'spline',
          zoomType: 'xy'
      },
      title: {
          text: ''
      },
      credits: {
            enabled: false
        },
      xAxis: {
          type: 'datetime',
          endOnTick: true,
          showLastLabel: false,
          dateTimeLabelFormats: {
          millisecond: '%Y-%m-%d %H:%M',
			second: '%Y-%m-%d %H:%M',  
            minute: '%Y-%m-%d %H:%M',  
            hour: '%Y-%m-%d %H:%M',  
            day: '%Y-%m-%d',  
            week: '%Y-%m-%d',  
            month: '%Y-%m-%d',  
            year: '%Y-%m-%d'
			}
      },
      yAxis: {
          title: {
              text: '血糖(mmol/L)'
          },  
          plotBands: [{ // 
              from: yuzhi1_xiao,
              to: yuzhi1_da,
              color: 'rgba(68, 170, 213, 0.1)',
              label: {
                  text: '正常空腹血糖参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }, { // Fresh breeze
              from: yuzhi2_xiao,
              to: yuzhi2_da,
              color: 'rgba(68, 70, 213, 0.1)',
              label: {
                  text: '正常餐后血糖参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }]
      },
      tooltip: {
    	  formatter:function(){ 
          	var s = Highcharts.dateFormat('%Y-%m-%d %H:%M', this.x);
          	$.each(this.points, function(){
          		s += '<br/><span style="color:'+this.series.color+'">' + this.series.name + ': <b>' + this.y +'</b> mmol/L</span>';
          	}); 
          	return s;          
          },
            crosshairs: true,
            shared: true,
            
      },
      plotOptions: {
          spline: {
              lineWidth: 3,
              states: {
                  hover: {
                      lineWidth: 4
                  }
              },
              marker: {
                  enabled: true
              },
              //pointInterval: 1000, // one hour
             // pointStart: Date.UTC(2009, 9, 6, 0, 0, 0)
          }
      },
      series: [{
          name: '空腹血糖',
          data: datas1

      }, {
          name: '餐后血糖',
          data: datas2
      }]
      
  });
}

//脉搏折线图
function maibo_zhexiantu(){
    var datas1 = document.getElementById("hide_maibo_zhexian").value; 
    datas1 = JSON.parse(datas1);

    var yuzhi1_xiao = $("#hide_maibo_xiao").val();
    var yuzhi1_da = $("#hide_maibo_da").val();
 
	$('#maibo_zhexian').highcharts({
      chart: {
          type: 'spline',
          zoomType: 'xy'
      },
      title: {
          text: ''
      },
      credits: {
            enabled: false
        },
      xAxis: {
          type: 'datetime',
          endOnTick: true,
          showLastLabel: false,
          dateTimeLabelFormats: {	
          millisecond: '%Y-%m-%d %H:%M',			
			second: '%Y-%m-%d %H:%M',  
            minute: '%Y-%m-%d %H:%M',  
            hour: '%Y-%m-%d %H:%M',  
            day: '%Y-%m-%d',  
            week: '%Y-%m-%d',  
            month: '%Y-%m-%d',  
            year: '%Y-%m-%d'
			}
      },
      yAxis: {
          title: {
              text: '脉搏(次/分)'
          },  
          plotBands: [{ // 
              from: yuzhi1_xiao,
              to: yuzhi1_da,
              color: 'rgba(68, 170, 213, 0.1)',
              label: {
                  text: '正常脉搏参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }]
      },
      tooltip: {
    	  formatter:function(){ 
          	var s = Highcharts.dateFormat('%Y-%m-%d %H:%M', this.x);
          	$.each(this.points, function(){
          		s += '<br/><span style="color:'+this.series.color+'">' + this.series.name + ': <b>' + this.y +'</b> 次/分</span>';
          	}); 
          	return s;          
          },
            crosshairs: true,
            shared: true,
            
      },
      plotOptions: {
          spline: {
              lineWidth: 3,
              states: {
                  hover: {
                      lineWidth: 4
                  }
              },
              marker: {
                  enabled: true
              },
              //pointInterval: 1000, // one hour
             // pointStart: Date.UTC(2009, 9, 6, 0, 0, 0)
          }
      },
      series: [{
          name: '脉搏',
          data: datas1

      }]
      
  });
}

//体温折线图
function tiwen_zhexiantu(){
    var datas1 = document.getElementById("hide_tiwen_zhexian").value; 
    datas1 = JSON.parse(datas1);

    var yuzhi1_xiao = $("#hide_tiwen_xiao").val();
    var yuzhi1_da = $("#hide_tiwen_da").val();
 
	$('#tiwen_zhexian').highcharts({
      chart: {
          type: 'spline',
          zoomType: 'xy'
      },
      title: {
          text: ''
      },
      credits: {
            enabled: false
        },
      xAxis: {
          type: 'datetime',
          endOnTick: true,
          showLastLabel: false,
          dateTimeLabelFormats: {
          millisecond: '%Y-%m-%d %H:%M',				
			second: '%Y-%m-%d %H:%M',  
            minute: '%Y-%m-%d %H:%M',  
            hour: '%Y-%m-%d %H:%M',  
            day: '%Y-%m-%d',  
            week: '%Y-%m-%d',  
            month: '%Y-%m-%d',  
            year: '%Y-%m-%d'
			}
      },
      yAxis: {
          title: {
              text: '体温(℃)'
          },  
          plotBands: [{ // 
              from: yuzhi1_xiao,
              to: yuzhi1_da,
              color: 'rgba(68, 170, 213, 0.1)',
              label: {
                  text: '正常体温参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }]
      },
      tooltip: {
    	  formatter:function(){ 
          	var s = Highcharts.dateFormat('%Y-%m-%d %H:%M', this.x);
          	$.each(this.points, function(){
          		s += '<br/><span style="color:'+this.series.color+'">' + this.series.name + ': <b>' + this.y +'</b> ℃</span>';
          	}); 
          	return s;          
          },
            crosshairs: true,
            shared: true,
            
      },
      plotOptions: {
          spline: {
              lineWidth: 3,
              states: {
                  hover: {
                      lineWidth: 4
                  }
              },
              marker: {
                  enabled: true
              },
              //pointInterval: 1000, // one hour
             // pointStart: Date.UTC(2009, 9, 6, 0, 0, 0)
          }
      },
      series: [{
          name: '体温',
          data: datas1

      }]
      
  });
}

//呼吸折线图
function huxi_zhexiantu(){
    var datas1 = document.getElementById("hide_huxi_zhexian").value; 
    datas1 = JSON.parse(datas1);

    var yuzhi1_xiao = $("#hide_huxi_xiao").val();
    var yuzhi1_da = $("#hide_huxi_da").val();
 
	$('#huxi_zhexian').highcharts({
      chart: {
          type: 'spline',
          zoomType: 'xy'
      },
      title: {
          text: ''
      },
      credits: {
            enabled: false
        },
      xAxis: {
          type: 'datetime',
          endOnTick: true,
          showLastLabel: false,
          dateTimeLabelFormats: {	
          millisecond: '%Y-%m-%d %H:%M',			
			second: '%Y-%m-%d %H:%M',  
            minute: '%Y-%m-%d %H:%M',  
            hour: '%Y-%m-%d %H:%M',  
            day: '%Y-%m-%d',  
            week: '%Y-%m-%d',  
            month: '%Y-%m-%d',  
            year: '%Y-%m-%d'
			}
      },
      yAxis: {
          title: {
              text: '呼吸(次/分)'
          },  
          plotBands: [{ // 
              from: yuzhi1_xiao,
              to: yuzhi1_da,
              color: 'rgba(68, 170, 213, 0.1)',
              label: {
                  text: '正常呼吸参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }]
      },
      tooltip: {
    	  formatter:function(){ 
          	var s = Highcharts.dateFormat('%Y-%m-%d %H:%M', this.x);
          	$.each(this.points, function(){
          		s += '<br/><span style="color:'+this.series.color+'">' + this.series.name + ': <b>' + this.y +'</b> 次/分</span>';
          	}); 
          	return s;          
          },
            crosshairs: true,
            shared: true,
            
      },
      plotOptions: {
          spline: {
              lineWidth: 3,
              states: {
                  hover: {
                      lineWidth: 4
                  }
              },
              marker: {
                  enabled: true
              },
              //pointInterval: 1000, // one hour
             // pointStart: Date.UTC(2009, 9, 6, 0, 0, 0)
          }
      },
      series: [{
          name: '呼吸',
          data: datas1

      }]
      
  });
}

//血氧折线图
function xueyang_zhexiantu(){
    var datas1 = document.getElementById("hide_xueyang_zhexian").value; 
    datas1 = JSON.parse(datas1);

    var yuzhi1_xiao = $("#hide_xueyang_xiao").val();
    var yuzhi1_da = $("#hide_xueyang_da").val();
 
	$('#xueyang_zhexian').highcharts({
      chart: {
          type: 'spline',
          zoomType: 'xy'
      },
      title: {
          text: ''
      },
      credits: {
            enabled: false
        },
      xAxis: {
          type: 'datetime',
          endOnTick: true,
          showLastLabel: false,
          dateTimeLabelFormats: {	
          millisecond: '%Y-%m-%d %H:%M',			
			second: '%Y-%m-%d %H:%M',  
            minute: '%Y-%m-%d %H:%M',  
            hour: '%Y-%m-%d %H:%M',  
            day: '%Y-%m-%d',  
            week: '%Y-%m-%d',  
            month: '%Y-%m-%d',  
            year: '%Y-%m-%d'
			}
      },
      yAxis: {
          title: {
              text: '血氧(%)'
          },  
          plotBands: [{ // 
              from: yuzhi1_xiao,
              to: yuzhi1_da,
              color: 'rgba(68, 170, 213, 0.1)',
              label: {
                  text: '正常血氧参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }]
      },
      tooltip: {
    	  formatter:function(){ 
          	var s = Highcharts.dateFormat('%Y-%m-%d %H:%M', this.x);
          	$.each(this.points, function(){
          		s += '<br/><span style="color:'+this.series.color+'">' + this.series.name + ': <b>' + this.y +'</b> %</span>';
          	}); 
          	return s;          
          },
            crosshairs: true,
            shared: true,
            
      },
      plotOptions: {
          spline: {
              lineWidth: 3,
              states: {
                  hover: {
                      lineWidth: 4
                  }
              },
              marker: {
                  enabled: true
              },
              //pointInterval: 1000, // one hour
             // pointStart: Date.UTC(2009, 9, 6, 0, 0, 0)
          }
      },
      series: [{
          name: '血氧',
          data: datas1

      }]
      
  });
}

//骨密度折线图
function gumidu_zhexiantu(){
    var datas1 = document.getElementById("hide_gumidu_zhexian").value; 
    datas1 = JSON.parse(datas1);

    var yuzhi1_xiao = $("#hide_gumidu_xiao").val();
    var yuzhi1_da = $("#hide_gumidu_da").val();
 
	$('#gumidu_zhexian').highcharts({
      chart: {
          type: 'spline',
          zoomType: 'xy'
      },
      title: {
          text: ''
      },
      credits: {
            enabled: false
        },
      xAxis: {
          type: 'datetime',
          endOnTick: true,
          showLastLabel: false,
          dateTimeLabelFormats: {
          millisecond: '%Y-%m-%d %H:%M',				
			second: '%Y-%m-%d %H:%M',  
            minute: '%Y-%m-%d %H:%M',  
            hour: '%Y-%m-%d %H:%M',  
            day: '%Y-%m-%d',  
            week: '%Y-%m-%d',  
            month: '%Y-%m-%d',  
            year: '%Y-%m-%d'
			}
      },
      yAxis: {
          title: {
              text: '骨密度 '
          },  
          plotBands: [{ // 
              from: yuzhi1_xiao,
              to: yuzhi1_da,
              color: 'rgba(68, 170, 213, 0.1)',
              label: {
                  text: '正常骨密度参考范围',
                  style: {
                      color: '#606060'
                  }
              }
          }]
      },
      tooltip: {
    	  formatter:function(){ 
          	var s = Highcharts.dateFormat('%Y-%m-%d %H:%M', this.x);
          	$.each(this.points, function(){
          		s += '<br/><span style="color:'+this.series.color+'">' + this.series.name + ': <b>' + this.y +'</b></span>';
          	}); 
          	return s;          
          },
            crosshairs: true,
            shared: true,
            
      },
      plotOptions: {
          spline: {
              lineWidth: 3,
              states: {
                  hover: {
                      lineWidth: 4
                  }
              },
              marker: {
                  enabled: true
              },
              //pointInterval: 1000, // one hour
             // pointStart: Date.UTC(2009, 9, 6, 0, 0, 0)
          }
      },
      series: [{
          name: '骨密度',
          data: datas1

      }]
      
  });
}
	///////////////////////////////////////////////////

	//新加头部///////////////////////////////////////////////
	function query(){
		var id="<%=request.getAttribute("olderId")%>";
		var reqmsg="{'action':'QUERY_OLDER_INFO_REQUEST','content':{\"nurseEmployeeShow\":\"true\",\"employeeListShow\":\"true\",\"olderContactListShow\":\"true\",\"olderAddressListShow\":\"true\",\"id\":"+id+"}}";
		  jQuery.ajax({
          type : "post",
          async:false,
          url : "daeOlder.do?handler",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
            	  changeData(data);
              }else if(data.des=="failure"){
                 alert("查询失败");
              }
          },
          error:function(){
	           alert("error");
          }
    	 });
	}
	
	function changeData(data){
		if (data.content != null) {
			var head_dizhi = "";
			if(data.content.olderAddressList != null){
 				jQuery.each(data.content.olderAddressList, function(i, item) {//有居住地址使用居住地址
 					if(item.addressType == 0){
 						head_dizhi = "";
 						head_dizhi += getNameById(item.provinceId) + "," + getNameById(item.cityId) + "," + getNameById(item.areaId);
						if(item.street != null && item.street != ""){
							head_dizhi += "," + item.street;
						}
						if(item.committeeVillage != null && item.committeeVillage != ""){
							head_dizhi += "," + item.committeeVillage;
						}
						if(item.road != null && item.road != ""){
							head_dizhi += "," + item.road;
						}
						if(item.lane != null && item.lane != ""){
							head_dizhi += "," + item.lane;
						}
						if(item.number != null && item.number != ""){
							head_dizhi += "," + item.number;
						}
						if(item.room != null && item.room != ""){
							head_dizhi += "," + item.room;
						}
						if(item.address != null && item.address != ""){
							head_dizhi += "," + item.address;
						}
						if(item.zipCode != null && item.zipCode != ""){
							head_dizhi += "," + item.zipCode;
						}
 					}
 				});
 				if(head_dizhi == ""){//无居住地址用其他的
 					jQuery.each(data.content.olderAddressList, function(i, item) {
 					   if(item.addressType == 1 || item.addressType == 2){
 					   		head_dizhi = "";
 						    head_dizhi += getNameById(item.provinceId) + "," + getNameById(item.cityId) + "," + getNameById(item.areaId);
							if(item.street != null && item.street != ""){
								head_dizhi += "," + item.street;
							}
							if(item.committeeVillage != null && item.committeeVillage != ""){
								head_dizhi += "," + item.committeeVillage;
							}
							if(item.road != null && item.road != ""){
								head_dizhi += "," + item.road;
							}
							if(item.lane != null && item.lane != ""){
								head_dizhi += "," + item.lane;
							}
							if(item.number != null && item.number != ""){
								head_dizhi += "," + item.number;
							}
							if(item.room != null && item.room != ""){
								head_dizhi += "," + item.room;
							}
							if(item.address != null && item.address != ""){
								head_dizhi += "," + item.address;
							}
							if(item.zipCode != null && item.zipCode != ""){
								head_dizhi += "," + item.zipCode;
							}
 					   }
 					});
 				}
 			}else{
 				head_dizhi="未知";
 			}
 			
 			$("#hide_oldName").val(data.content.name);
 			$("#hide_userId").val(data.content.userId);//userId
 			//头部/////
 			if(data.content.mainPhoto != null && data.content.mainPhoto != ""){
				$("#touxiangId").attr("src",data.content.mainPhoto);//头像
				$("#hide_olderTupian").val(data.content.mainPhoto);//头像
			}
 			if(data.content.name != null && data.content.name != ""){
 				$("#head_name").html(data.content.name);//姓名
 			}else{
 				$("#head_name").html("未知");//姓名
 			}
 			if(head_dizhi != null && head_dizhi != ""){
 				$("#head_address").html(head_dizhi);//地址
 			}else{
 				$("#head_address").html("未知");//地址
 			}
 			var gen=data.content.gender;
 			var age=data.content.birthdate;
 			var num=data.content.idnumber;
 			if(gen == null || gen == ""){
 				gen="未知";
 			}
 			if(age == null || age == ""){
 				age="未知";
 			}else{
 				age=getAge(data.content.birthdate);
 			}
 			if(num == null || num == ""){
 				num="未知";
 			}
 			$("#head_sas").html(gen+"/"+age+"/"+num);//性别年龄身份证
 			
 			if(data.content.mobileTel != null && data.content.mobileTel != ""){
 				$("#head_telephone").html(data.content.mobileTel);//手机
 			}else{
 				$("#head_telephone").html("未知");//手机
 			}
 			
 			$("#head_customerSource").html(data.content.memberSource);//客户来源
 			$("#head_source_input").html(inputSource(data.content.source));//录入来源
 			$("#head_hulijibie_input").html(hulijibieChange(data.content.nurseLevel));//护理级别
 			$("#head_kehuzhuangtai").html(khztChange(data.content.memberStatus));//客户状态
 			
 			if(data.content.lastAssessmentDate != "" && data.content.lastAssessmentDate != null){
 				$("#head_hlasttimepg").html(riqiChange(data.content.lastAssessmentDate));//最后一次评估日期
 			}
 			
			if(data.content.source != 3){//不是长护险代理列表页跳转过来，隐藏导出申请表按钮
				$("#longActingInsuranceAgentBtn").hide();
			}
		}
   }
	 //根据出生年月日计算年龄yyyymmdd
	function getAge(strBirthday){
		var birthYear = strBirthday.substr(0,4);
		var d = new Date();
		var nowYear = d.getFullYear();
		var age = nowYear-birthYear;
		return age;
	}
	//护理级别转化
	function hulijibieChange(id){
		var name="未知";
     	switch (id)
		{
			case 1:
  			name="1级";
  			break;
  			
			case 2:
  			name="2级";
  			break;

			case 3:
  			name="3级";
  			break;
  			
  			case 4:
  			name="4级";
  			break;
  			
			case 5:
  			name="5级";
  			break;

			case 6:
  			name="6级";
  			break;
  			
  			default:
  			break;
		}
		return name;
	}
	//客户状态
	function khztChange(id){
		var name="未知";
     	switch (id)
		{
			case 0:
  			name="正常";
  			break;
  			
			case 1:
  			name="审核不通过";
  			break;

			case 2:
  			name="待评估";
  			break;
  			
  			default:
  			break;
		}
		return name;
	}
	//转化日期
   function riqiChange(data){
   		var date_=data;
    	var date2=data.substr(0,4)+"-"+data.substr(4,2)+"-"+data.substr(6,2);
    	if(date2 == "--"){
    		date2 = "无";
    	}
    	return date2;
   }
 //上传图片
	function uploadPic() {
		var currPic = $("#pic4upload").val();
		if (currPic != null && currPic != "") {
			var ajax_option = {
				async:false,
				data:{},
				success:function(data) {
					if (data != null && data != "") {
						$("#srcPath").val(data); 
						//$("#touxiangId2").attr("src", data);  //将当前图片设为上传的图片
						openImagejsp(data);
					} else {
						alert("图片上传失败");
					}
				}
			};
			$("#picuploadform").ajaxSubmit(ajax_option);
		} else {
			//alert("请选择图片");
		}
	}
	function openImagejsp(data){
		window.open ("view/imageCut/jquery-image-cut/image.jsp?"+data, "newwindow", "height=550, width=1100, top=200, left=450, toolbar=no, menubar=no, scrollbars=no, resizable=no,location=no, status=no");
	}
	 //上传裁剪后图片
	function uploadPic_cut() {
			var ajax_option = {
				async:false,
				data:{},
				success:function(data) {
					if (data != null && data != "") {
						var result = JSON.parse(data);
						$("#hide_olderTupian").val(result.base64);
						$("#touxiangId").attr("src", result.url);  //将当前图片设为上传的图片
						baocuntouxiang();
					} else {
						alert("图片上传失败");
					}
				}
			};
			$("#image_submit").ajaxSubmit(ajax_option);
	}
	
	//修改头像
function baocuntouxiang(){
	var touxiangSrc=$("#hide_olderTupian").val();//头像
	var reqmsg="{'action':'ADD_OLDER_INFO_REQUEST','content':{";
	
	if (touxiangSrc != null && touxiangSrc != "") {
       	reqmsg += "\"mainPhoto\":\"" + touxiangSrc + "\",";
	}
	var idss="<%=request.getAttribute("olderId")%>";
	reqmsg+="\"userId\":"+$("#hide_userId").val() + ",";
	reqmsg+="\"id\":"+idss + ",";
	reqmsg += "}}";

	jQuery.ajax({
          type : "post",
          async:true,
          url : "daeOlder.do?handler",
          dataType : "json",
          data: {
               "reqmsg":reqmsg
          },
          success : function(data){
              if(data.des=="success"){
              	 alert("修改头像成功");
              }else if(data.des=="failure"){
                 alert("修改头像失败");
              }else{
              	 alert(data.des);
              }
          },
          error:function(){
	           alert("error");
          }
     });
}

//录入来源
function inputSource(value){
	var source="未知";
	switch (value)
	{
		case 1:
			source="系统录入";
		break;

		case 2:
			source="微信录入";
		break;
		
		default:
		break;
	}
	return source;
}

	
function jumpPage(flag){
	var oldid="<%=request.getAttribute("olderId")%>";
	var userId_login = "<%=request.getAttribute("userId")%>";
    var path="<%=request.getContextPath()%>";	
    var url = "";
	if(flag == "bl"){
     	url = "daeOlder.do?older_Case&olderId=" + oldid + "&userId=" + userId_login;
     	window.location.href="<%=request.getContextPath()%>/"+url; 
	}else{
    	url = path+"/daeOlder.do?main&id=" + oldid + "&flag=" + flag;
    	window.location.replace(url);
    }
}
	///////////////////////////////////////////////////
    </script>

<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
  <script src="js/behaviour/voice-commands.js"></script>
  <script src="js/bootstrap/dist/js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/jquery.flot/jquery.flot.js"></script>
<script type="text/javascript" src="js/jquery.flot/jquery.flot.pie.js"></script>
<script type="text/javascript" src="js/jquery.flot/jquery.flot.resize.js"></script>
<script type="text/javascript" src="js/jquery.flot/jquery.flot.labels.js"></script>
<script type="text/javascript" src="js/jquery.form.js"></script>
</body>
</html>
